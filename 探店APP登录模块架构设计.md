# 🌳 探店APP登录模块 - 纯结构架构图标准模板

> **基于纯结构架构图标准模板的详细分析 - 密码登录 + 验证码登录完整版**

---

## 🌳 探店APP登录模块 - 树状图（页面结构视角）

```
【探店APP登录系统模块】★★★
│
├── 【登录主页面 - 密码模式】📱（复杂页面标注 - 白色背景#FFFFFF）
│   ├── 📱 系统状态栏 (iOS适配 - 44px高度)
│   │   ├── 🕘 时间显示 "9:41" (左侧 - 17sp黑色#000000)
│   │   ├── 📶 信号强度 (4格满格 - 右侧黑色图标)
│   │   ├── 📶 WiFi信号 (满格连接 - 黑色图标)
│   │   └── 🔋 电池电量 (满电显示 - 黑色图标)
│   │
│   ├── 🎯 欢迎信息区域 (顶部内容区 - 顶部间距120px)
│   │   ├── 📝 问候语标题 "您好！" (28sp黑色#333333 粗体)
│   │   │   ├── 字体样式：PingFang SC Medium + 左对齐
│   │   │   ├── 行间距：1.2倍行高
│   │   │   └── 左边距：40px
│   │   └── 📝 应用名称 "欢迎使用探店" (24sp黑色#333333 常规)
│   │       ├── 字体样式：PingFang SC Regular + 左对齐
│   │       ├── 顶部间距：16px（距离问候语）
│   │       └── 左边距：40px
│   │
│   ├── 🔐 登录表单区域 (主要功能区域 - 顶部间距80px)
│   │   ├── 《手机号输入区域》📋 (输入组件容器 - 高度56px)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   ├── 🌍 地区选择器 (左侧固定区域 - 宽度80px)
│   │   │   │   ├── "+86" 地区代码 (16sp黑色#333333)
│   │   │   │   ├── 🔽 下拉箭头 (灰色#999999 12x12px)
│   │   │   │   │   ├── 图标样式：向下三角形
│   │   │   │   │   ├── 点击效果：0.2s旋转180度动画
│   │   │   │   │   └── 功能：展开地区选择列表
│   │   │   │   └── 🔗 分隔线 (竖线1px #E5E5E5 高度24px)
│   │   │   ├── 《手机号输入框》📋 (主要输入区域)
│   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   ├── 占位符："请输入手机号" (16sp灰色#999999)
│   │   │   │   ├── 输入文字："13147046323" (16sp黑色#333333)
│   │   │   │   ├── 字体样式：PingFang SC Regular
│   │   │   │   ├── 内边距：16px水平 + 16px垂直
│   │   │   │   ├── 输入类型：数字键盘 + 11位长度限制
│   │   │   │   ├── 自动聚焦：页面加载时自动聚焦
│   │   │   │   └── 实时验证：手机号格式实时检查
│   │   │   └── ❌ 清空按钮 (右侧 - 有内容时显示)
│   │   │       ├── 按钮样式：灰色圆形背景#F5F5F5 + 白色X图标
│   │   │       ├── 按钮尺寸：24x24px圆形
│   │   │       ├── 点击效果：0.1s缩放动画
│   │   │       └── 功能：清空输入框内容
│   │   │
│   │   ├── 《密码输入区域》📋 (密码组件容器 - 高度56px)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   ├── 《密码输入框》📋 (密码输入区域)
│   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   ├── 占位符："请输入6-20位密码" (16sp灰色#999999)
│   │   │   │   ├── 输入显示状态1：密码掩码 "you990929" → "••••••••" 
│   │   │   │   │   ├── 掩码字符：黑色实心圆点
│   │   │   │   │   ├── 字符间距：2px
│   │   │   │   │   └── 输入反馈：每输入一个字符0.3s延迟后变为掩码
│   │   │   │   ├── 输入显示状态2：明文显示 "you990929"
│   │   │   │   │   ├── 明文样式：16sp黑色#333333
│   │   │   │   │   └── 字体样式：PingFang SC Regular
│   │   │   │   ├── 内边距：16px水平 + 16px垂直
│   │   │   │   ├── 输入类型：安全文本输入 + 6-20位长度限制
│   │   │   │   └── 密码强度：实时密码强度检测（可选功能）
│   │   │   └── 👁️ 密码显示切换按钮 (右侧 - 24x24px)
│   │   │       ├── 隐藏状态图标：👁️‍🗨️ 闭眼图标 (灰色#999999)
│   │   │       ├── 显示状态图标：👁️ 睁眼图标 (紫色#8A2BE2)
│   │   │       ├── 点击效果：0.2s图标变色 + 输入框内容切换
│   │   │       ├── 状态切换：隐藏密码 ↔ 显示密码
│   │   │       └── 交互反馈：点击时轻微震动反馈
│   │   │
│   │   └── 🔧 表单验证系统 (隐藏验证层)
│   │       ├── 📱 手机号验证规则
│   │       │   ├── 格式验证：11位数字 + 1开头
│   │       │   ├── 运营商验证：移动/联通/电信号段
│   │       │   └── 错误提示：红色文字 + 输入框红色边框
│   │       └── 🔐 密码验证规则
│   │           ├── 长度验证：6-20位字符
│   │           ├── 复杂度验证：字母数字组合（推荐）
│   │           └── 安全提示：弱/中/强密码强度指示
│   │
│   ├── 🎯 主要操作区域 (登录按钮区域 - 顶部间距60px)
│   │   └── 💜「登陆」按钮 📋 (主要操作按钮)
│   │       ├── 按钮容器 (宽度335px + 高度52px + 居中对齐)
│   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │       ├── 按钮文字："登陆" (18sp白色#FFFFFF + PingFang SC Medium)
│   │       ├── 按钮状态管理
│   │       │   ├── 默认状态：渐变紫色 + 白色文字 + 可点击
│   │       │   ├── 悬浮状态：渐变加深 + 0.2s颜色过渡
│   │       │   ├── 按下状态：0.1s缩放95% + 渐变变暗
│   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击
│   │       │   └── 加载状态：紫色背景 + 白色转圈动画
│   │       ├── 点击效果：0.1s缩放动画 + 涟漪扩散效果
│   │       ├── 阴影效果：0 4px 12px rgba(138,43,226,0.3)
│   │       └── 触摸反馈：轻微震动 + 音效反馈（可选）
│   │
│   ├── 🔧 辅助功能区域 (次要操作区域 - 顶部间距32px)
│   │   ├── 💜「验证码登陆」按钮 (左侧辅助按钮)
│   │   │   ├── 按钮样式：透明背景 + 紫色文字#8A2BE2 + 无边框
│   │   │   ├── 文字样式：16sp + PingFang SC Regular
│   │   │   ├── 点击效果：0.2s文字颜色加深
│   │   │   └── 功能：切换到验证码登录模式
│   │   └── 🔑「忘记密码?」按钮 (右侧辅助按钮)
│   │       ├── 按钮样式：透明背景 + 灰色文字#999999 + 无边框
│   │       ├── 文字样式：16sp + PingFang SC Regular
│   │       ├── 点击效果：0.2s文字颜色加深
│   │       └── 功能：跳转到密码重置流程
│   │
│   ├── 📋 协议同意区域 (底部固定区域 - 底部间距80px)
│   │   ├── 📝 协议声明文字 (居中对齐 - 14sp灰色#999999)
│   │   │   ├── 声明文本："登陆即表明同意" + 链接文字 + "和" + 链接文字
│   │   │   ├── 普通文字：14sp灰色#999999 + PingFang SC Regular
│   │   │   ├── 🔗《探店用户协议》链接 (紫色#8A2BE2 + 下划线)
│   │   │   │   ├── 点击效果：0.2s颜色加深
│   │   │   │   └── 功能：弹出用户协议详情页
│   │   │   └── 🔗《隐私政策》链接 (紫色#8A2BE2 + 下划线)
│   │   │       ├── 点击效果：0.2s颜色加深
│   │   │       └── 功能：弹出隐私政策详情页
│   │   └── 法律合规要求：用户必须同意协议才能使用服务
│   │
│   └── 📱 底部安全区域 (iPhone适配 - 34px高度黑色指示条)
│       └── 🏠 Home指示器 (居中黑色圆角矩形 134x5px)
│
├── 【登录主页面 - 验证码模式】📱（验证码登录页面 - 白色背景#FFFFFF）
│   ├── 📱 系统状态栏 (iOS适配 - 44px高度 - 相同规格)
│   │   ├── 🕘 时间显示 "9:41" (左侧 - 17sp黑色#000000)
│   │   ├── 📶 信号强度 (4格满格 - 右侧黑色图标)
│   │   ├── 📶 WiFi信号 (满格连接 - 黑色图标)
│   │   └── 🔋 电池电量 (满电显示 - 黑色图标)
│   │
│   ├── 🎯 欢迎信息区域 (顶部内容区 - 顶部间距120px - 相同规格)
│   │   ├── 📝 问候语标题 "您好！" (28sp黑色#333333 粗体)
│   │   │   ├── 字体样式：PingFang SC Medium + 左对齐
│   │   │   ├── 行间距：1.2倍行高
│   │   │   └── 左边距：40px
│   │   └── 📝 应用名称 "欢迎使用探店" (24sp黑色#333333 常规)
│   │       ├── 字体样式：PingFang SC Regular + 左对齐
│   │       ├── 顶部间距：16px（距离问候语）
│   │       └── 左边距：40px
│   │
│   ├── 🔐 验证码登录表单区域 (主要功能区域 - 顶部间距80px)
│   │   ├── 《手机号输入区域》📋 (输入组件容器 - 高度56px - 相同规格)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   ├── 🌍 地区选择器 (左侧固定区域 - 宽度80px)
│   │   │   │   ├── "+86" 地区代码 (16sp黑色#333333)
│   │   │   │   ├── 🔽 下拉箭头 (灰色#999999 12x12px)
│   │   │   │   │   ├── 图标样式：向下三角形
│   │   │   │   │   ├── 点击效果：0.2s旋转180度动画
│   │   │   │   │   └── 功能：展开地区选择列表
│   │   │   │   └── 🔗 分隔线 (竖线1px #E5E5E5 高度24px)
│   │   │   ├── 《手机号输入框》📋 (主要输入区域)
│   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   ├── 占位符："请输入手机号" (16sp灰色#999999)
│   │   │   │   ├── 输入文字："13147046323" (16sp黑色#333333)
│   │   │   │   ├── 字体样式：PingFang SC Regular
│   │   │   │   ├── 内边距：16px水平 + 16px垂直
│   │   │   │   ├── 输入类型：数字键盘 + 11位长度限制
│   │   │   │   ├── 自动聚焦：页面加载时自动聚焦
│   │   │   │   └── 实时验证：手机号格式实时检查
│   │   │   └── ❌ 清空按钮 (右侧 - 有内容时显示)
│   │   │       ├── 按钮样式：灰色圆形背景#F5F5F5 + 白色X图标
│   │   │       ├── 按钮尺寸：24x24px圆形
│   │   │       ├── 点击效果：0.1s缩放动画
│   │   │       └── 功能：清空输入框内容
│   │   │
│   │   ├── 《验证码输入区域》📋 (验证码组件容器 - 高度56px)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   ├── 《验证码分格输入区域》📋 (6位分格验证码输入)
│   │   │   │   ├── 输入框组合：6个独立的分格输入框
│   │   │   │   ├── 单个输入框样式：
│   │   │   │   │   ├── 尺寸：48x48px正方形
│   │   │   │   │   ├── 边框：1px灰色#E5E5E5 + 圆角8px
│   │   │   │   │   ├── 背景：白色#FFFFFF
│   │   │   │   │   ├── 文字：24sp黑色#333333居中显示
│   │   │   │   │   ├── 间距：每个输入框之间16px间距
│   │   │   │   │   └── 焦点状态：紫色边框#8A2BE2 + 2px边框
│   │   │   │   ├── 输入显示状态：
│   │   │   │   │   ├── 空状态：透明背景 + 灰色边框 + 无内容
│   │   │   │   │   ├── 输入中：紫色边框 + 白色背景 + 显示数字
│   │   │   │   │   ├── 已输入：灰色边框 + 白色背景 + 显示数字
│   │   │   │   │   └── 错误状态：红色边框#FF4444 + 红色数字
│   │   │   │   ├── 交互逻辑：
│   │   │   │   │   ├── 自动跳转：输入一位数字后自动跳转到下一格
│   │   │   │   │   ├── 删除逻辑：删除时自动跳转到上一格
│   │   │   │   │   ├── 粘贴支持：支持粘贴6位验证码自动分配到各格
│   │   │   │   │   └── 键盘类型：数字键盘 + 单位数字输入限制
│   │   │   │   ├── 自动聚焦：获取验证码成功后自动聚焦到第1格
│   │   │   │   └── 实时验证：6位数字完整输入后自动启用下一步按钮
│   │   │   └── 📲「获取验证码」按钮 (右侧 - 动态状态按钮)
│   │   │       ├── 初始状态：
│   │   │       │   ├── 按钮样式：紫色文字#8A2BE2 + 透明背景 + 无边框
│   │   │       │   ├── 按钮文字："获取验证码" (14sp紫色)
│   │   │       │   ├── 按钮尺寸：80x32px
│   │   │       │   └── 点击条件：手机号格式正确时可点击
│   │   │       ├── 发送中状态：
│   │   │       │   ├── 按钮样式：灰色文字#999999 + 透明背景
│   │   │       │   ├── 按钮文字："发送中..." (14sp灰色)
│   │   │       │   ├── 加载动画：小转圈图标
│   │   │       │   └── 交互状态：不可点击
│   │   │       ├── 倒计时状态：
│   │   │       │   ├── 按钮样式：灰色文字#999999 + 透明背景
│   │   │       │   ├── 按钮文字："重新发送(59s)" (14sp灰色)
│   │   │       │   ├── 倒计时效果：每秒递减数字更新
│   │   │       │   └── 交互状态：不可点击 + 60秒倒计时
│   │   │       ├── 重发状态：
│   │   │       │   ├── 按钮样式：紫色文字#8A2BE2 + 透明背景
│   │   │       │   ├── 按钮文字："重新发送" (14sp紫色)
│   │   │       │   ├── 点击效果：0.2s颜色加深
│   │   │       │   └── 功能：重新发送验证码
│   │   │       └── 错误状态：
│   │   │           ├── 按钮样式：红色文字#FF4444 + 透明背景
│   │   │           ├── 按钮文字："发送失败，重试" (14sp红色)
│   │   │           ├── 点击效果：0.2s颜色加深
│   │   │           └── 功能：重新尝试发送验证码
│   │   │
│   │   └── 🔧 验证码表单验证系统 (隐藏验证层)
│   │       ├── 📱 手机号验证规则 (与密码模式相同)
│   │       │   ├── 格式验证：11位数字 + 1开头
│   │       │   ├── 运营商验证：移动/联通/电信号段
│   │       │   └── 错误提示：红色文字 + 输入框红色边框
│   │       ├── 📲 验证码验证规则
│   │       │   ├── 格式验证：6位数字
│   │       │   ├── 有效期验证：5分钟有效期
│   │       │   ├── 尝试次数：最多3次错误尝试
│   │       │   └── 错误提示：红色文字 + 具体错误信息
│   │       └── 🔄 验证码状态管理
│   │           ├── 发送状态：未发送/发送中/已发送/发送失败
│   │           ├── 验证状态：未验证/验证中/验证成功/验证失败
│   │           ├── 倒计时状态：60秒倒计时管理
│   │           └── 重发限制：每日最多10次发送限制
│   │
│   ├── 🎯 主要操作区域 (登录按钮区域 - 顶部间距60px - 相同规格)
│   │   └── 💜「登陆」按钮 📋 (主要操作按钮 - 相同样式)
│   │       ├── 按钮容器 (宽度335px + 高度52px + 居中对齐)
│   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │       ├── 按钮文字："登陆" (18sp白色#FFFFFF + PingFang SC Medium)
│   │       ├── 按钮状态管理
│   │       │   ├── 默认状态：渐变紫色 + 白色文字 + 可点击
│   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击（验证码未输入完整时）
│   │       │   ├── 加载状态：紫色背景 + 白色转圈动画
│   │       │   └── 激活条件：手机号正确 + 验证码6位数字完整
│   │       ├── 点击效果：0.1s缩放动画 + 涟漪扩散效果
│   │       ├── 阴影效果：0 4px 12px rgba(138,43,226,0.3)
│   │       └── 触摸反馈：轻微震动 + 音效反馈（可选）
│   │
│   ├── 🔧 辅助功能区域 (次要操作区域 - 顶部间距32px - 相同位置)
│   │   ├── 💜「密码登陆」按钮 (左侧辅助按钮 - 切换回密码模式)
│   │   │   ├── 按钮样式：透明背景 + 紫色文字#8A2BE2 + 无边框
│   │   │   ├── 文字样式：16sp + PingFang SC Regular
│   │   │   ├── 点击效果：0.2s文字颜色加深
│   │   │   └── 功能：切换到密码登录模式
│   │   └── 🔑「忘记密码?」按钮 (右侧辅助按钮 - 相同功能)
│   │       ├── 按钮样式：透明背景 + 灰色文字#999999 + 无边框
│   │       ├── 文字样式：16sp + PingFang SC Regular
│   │       ├── 点击效果：0.2s文字颜色加深
│   │       └── 功能：跳转到密码重置流程
│   │
│   ├── 📋 协议同意区域 (底部固定区域 - 底部间距80px - 相同规格)
│   │   ├── 📝 协议声明文字 (居中对齐 - 14sp灰色#999999)
│   │   │   ├── 声明文本："登陆即表明同意" + 链接文字 + "和" + 链接文字
│   │   │   ├── 普通文字：14sp灰色#999999 + PingFang SC Regular
│   │   │   ├── 🔗《探店用户协议》链接 (紫色#8A2BE2 + 下划线)
│   │   │   │   ├── 点击效果：0.2s颜色加深
│   │   │   │   └── 功能：弹出用户协议详情页
│   │   │   └── 🔗《隐私政策》链接 (紫色#8A2BE2 + 下划线)
│   │   │       ├── 点击效果：0.2s颜色加深
│   │   │       └── 功能：弹出隐私政策详情页
│   │   └── 法律合规要求：用户必须同意协议才能使用服务
│   │
│   └── 📱 底部安全区域 (iPhone适配 - 34px高度黑色指示条)
│       └── 🏠 Home指示器 (居中黑色圆角矩形 134x5px)
│
├── 【验证码错误状态页面】📱（错误处理页面 - 白色背景#FFFFFF）
│   ├── 📱 系统状态栏 (iOS适配 - 44px高度 - 相同规格)
│   │
│   ├── 🎯 欢迎信息区域 (顶部内容区 - 相同布局)
│   │   ├── 📝 问候语标题 "您好！" (相同样式)
│   │   └── 📝 应用名称 "欢迎使用探店" (相同样式)
│   │
│   ├── 🔐 验证码登录表单区域 (主要功能区域 - 错误状态)
│   │   ├── 《手机号输入区域》📋 (相同规格 - 已填写状态)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   ├── 🌍 地区选择器 "+86" (相同样式)
│   │   │   ├── 《手机号输入框》"13147046323" (已填写状态)
│   │   │   └── ❌ 清空按钮 (显示状态)
│   │   │
│   │   ├── 《验证码输入区域》📋 (错误状态显示)
│   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #FF4444红色)
│   │   │   ├── 《验证码输入框》📋 (错误状态)
│   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   ├── 输入内容："123456" (16sp黑色#333333)
│   │   │   │   ├── 错误状态：输入框底部红色边框
│   │   │   │   └── 焦点状态：可重新输入修改
│   │   │   ├── 📲「重新发送」按钮 (重发状态)
│   │   │   │   ├── 按钮样式：紫色文字#8A2BE2 + 透明背景
│   │   │   │   ├── 按钮文字："重新发送" (14sp紫色)
│   │   │   │   └── 功能：重新发送验证码
│   │   │   └── 🚨 错误提示信息 (验证码下方)
│   │   │       ├── 提示文字："验证码错误，请重新输入" (14sp红色#FF4444)
│   │   │       ├── 文字位置：输入框下方8px间距
│   │   │       ├── 显示时长：持续显示直到用户重新输入
│   │   │       └── 动画效果：0.3s渐入显示
│   │   │
│   │   └── 🔧 错误处理验证系统
│   │       ├── 📲 验证码错误处理
│   │       │   ├── 错误次数统计：当前错误次数/最大尝试次数
│   │       │   ├── 错误类型识别：验证码错误/验证码过期/网络错误
│   │       │   ├── 错误提示文案：根据错误类型显示对应提示
│   │       │   └── 重试机制：允许重新输入或重新发送
│   │       ├── 🔒 安全防护机制
│   │       │   ├── 错误次数限制：3次错误后需重新发送验证码
│   │       │   ├── 频率限制：60秒内不可重复发送
│   │       │   ├── 每日限制：每日最多10次发送
│   │       │   └── 异常检测：异常频繁请求自动拦截
│   │       └── 🔄 状态恢复机制
│   │           ├── 自动清空：错误提示后自动清空验证码输入框
│   │           ├── 焦点管理：错误后自动聚焦到验证码输入框
│   │           ├── 按钮恢复：恢复获取验证码按钮可用状态
│   │           └── 倒计时重置：错误后重置倒计时状态
│   │
│   ├── 🎯 主要操作区域 (登录按钮区域 - 错误状态)
│   │   └── 💜「登陆」按钮 📋 (禁用状态)
│   │       ├── 按钮容器 (相同尺寸)
│   │       ├── 按钮样式：灰色背景#CCCCCC + 圆角26px
│   │       ├── 按钮文字："登陆" (18sp白色#FFFFFF)
│   │       ├── 按钮状态：禁用状态 - 不可点击
│   │       └── 激活条件：验证码重新输入正确后恢复可点击
│   │
│   ├── 🔧 辅助功能区域 (相同布局和功能)
│   └── 📋 协议同意区域 (相同布局和功能)
│
├── 【忘记密码流程页面群】📱（密码重置完整流程 - 多步骤页面集合）
│   ├── 【忘记密码入口页面】📱（流程起始页面 - 白色背景#FFFFFF）
│   │   ├── 📱 系统状态栏 (iOS适配 - 44px高度 - 相同规格)
│   │   │   ├── 🕘 时间显示 "9:41" (左侧 - 17sp黑色#000000)
│   │   │   ├── 📶 信号强度 (4格满格 - 右侧黑色图标)
│   │   │   ├── 📶 WiFi信号 (满格连接 - 黑色图标)
│   │   │   └── 🔋 电池电量 (满电显示 - 黑色图标)
│   │   │
│   │   ├── 🔝 页面导航栏 (固定头部 - 高度56px - 白色背景)
│   │   │   ├── 🔙「<」返回按钮 (左上角 - 黑色箭头图标 24x24px)
│   │   │   │   ├── 点击效果：0.2s缩放动画
│   │   │   │   └── 功能：返回登录页面
│   │   │   └── 📝 页面标题 "忘记密码" (居中 - 18sp黑色#333333粗体)
│   │   │
│   │   ├── 🎯 说明信息区域 (顶部内容区 - 顶部间距80px)
│   │   │   ├── 📝 主标题 "重置登录密码" (28sp黑色#333333 粗体)
│   │   │   │   ├── 字体样式：PingFang SC Medium + 左对齐
│   │   │   │   ├── 行间距：1.2倍行高
│   │   │   │   └── 左边距：40px
│   │   │   └── 📝 说明文字 "请输入您的手机号，我们将发送验证码到您的手机" (16sp灰色#666666)
│   │   │       ├── 字体样式：PingFang SC Regular + 左对齐
│   │   │       ├── 顶部间距：16px（距离主标题）
│   │   │       ├── 左边距：40px
│   │   │       ├── 行间距：1.4倍行高
│   │   │       └── 最大宽度：屏幕宽度-80px（左右各40px边距）
│   │   │
│   │   ├── 🔐 手机号输入区域 (主要功能区域 - 顶部间距60px)
│   │   │   └── 《手机号输入区域》📋 (输入组件容器 - 高度56px - 相同规格)
│   │   │       ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │       ├── 🌍 地区选择器 (左侧固定区域 - 宽度80px)
│   │   │       │   ├── "+86" 地区代码 (16sp黑色#333333)
│   │   │       │   ├── 🔽 下拉箭头 (灰色#999999 12x12px)
│   │   │       │   └── 🔗 分隔线 (竖线1px #E5E5E5 高度24px)
│   │   │       ├── 《手机号输入框》📋 (主要输入区域)
│   │   │       │   ├── 输入框样式：透明背景 + 无边框
│   │   │       │   ├── 占位符："请输入手机号" (16sp灰色#999999)
│   │   │       │   ├── 输入类型：数字键盘 + 11位长度限制
│   │   │       │   ├── 自动聚焦：页面加载时自动聚焦
│   │   │       │   └── 实时验证：手机号格式实时检查
│   │   │       └── ❌ 清空按钮 (右侧 - 有内容时显示)
│   │   │           ├── 按钮样式：灰色圆形背景#F5F5F5 + 白色X图标
│   │   │           ├── 按钮尺寸：24x24px圆形
│   │   │           └── 点击效果：0.1s缩放动画
│   │   │
│   │   ├── 🎯 主要操作区域 (下一步按钮区域 - 顶部间距60px)
│   │   │   └── 💜「下一步」按钮 📋 (主要操作按钮)
│   │   │       ├── 按钮容器 (宽度335px + 高度52px + 居中对齐)
│   │   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │   │       ├── 按钮文字："下一步" (18sp白色#FFFFFF + PingFang SC Medium)
│   │   │       ├── 按钮状态管理
│   │   │       │   ├── 默认状态：渐变紫色 + 白色文字 + 可点击
│   │   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击（手机号未输入完整时）
│   │   │       │   └── 激活条件：手机号格式正确 + 11位数字完整
│   │   │       ├── 点击效果：0.1s缩放动画 + 涟漪扩散效果
│   │   │       └── 功能：跳转到验证码发送页面
│   │   │
│   │   └── 📱 底部安全区域 (iPhone适配 - 34px高度黑色指示条)
│   │       └── 🏠 Home指示器 (居中黑色圆角矩形 134x5px)
│   │
│   ├── 【忘记密码-验证码发送页面】📱（验证码获取页面 - 白色背景#FFFFFF）
│   │   ├── 📱 系统状态栏 (相同规格)
│   │   │
│   │   ├── 🔝 页面导航栏 (相同规格)
│   │   │   ├── 🔙「<」返回按钮 (返回到忘记密码入口页面)
│   │   │   └── 📝 页面标题 "忘记密码" (相同样式)
│   │   │
│   │   ├── 🎯 说明信息区域 (顶部内容区 - 顶部间距80px)
│   │   │   ├── 📝 主标题 "获取验证码" (28sp黑色#333333 粗体)
│   │   │   └── 📝 说明文字 "验证码将发送至 13147046323" (16sp灰色#666666)
│   │   │       ├── 手机号显示：中间4位用****遮盖显示
│   │   │       ├── 字体样式：PingFang SC Regular
│   │   │       └── 动态内容：根据用户输入的手机号动态显示
│   │   │
│   │   ├── 🔐 验证码输入区域 (主要功能区域 - 顶部间距60px)
│   │   │   ├── 《验证码输入区域》📋 (验证码组件容器 - 高度56px)
│   │   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   │   ├── 《验证码分格输入区域》📋 (6位分格验证码输入 - 与验证码登录相同)
│   │   │   │   │   ├── 输入框组合：6个独立的分格输入框
│   │   │   │   │   ├── 单个输入框样式：
│   │   │   │   │   │   ├── 尺寸：48x48px正方形
│   │   │   │   │   │   ├── 边框：1px灰色#E5E5E5 + 圆角8px
│   │   │   │   │   │   ├── 背景：白色#FFFFFF
│   │   │   │   │   │   ├── 文字：24sp黑色#333333居中显示
│   │   │   │   │   │   ├── 间距：每个输入框之间16px间距
│   │   │   │   │   │   └── 焦点状态：紫色边框#8A2BE2 + 2px边框
│   │   │   │   │   ├── 输入显示状态：
│   │   │   │   │   │   ├── 空状态：透明背景 + 灰色边框 + 无内容
│   │   │   │   │   │   ├── 输入中：紫色边框 + 白色背景 + 显示数字
│   │   │   │   │   │   ├── 已输入：灰色边框 + 白色背景 + 显示数字
│   │   │   │   │   │   └── 错误状态：红色边框#FF4444 + 红色数字
│   │   │   │   │   ├── 交互逻辑：
│   │   │   │   │   │   ├── 自动跳转：输入一位数字后自动跳转到下一格
│   │   │   │   │   │   ├── 删除逻辑：删除时自动跳转到上一格
│   │   │   │   │   │   ├── 粘贴支持：支持粘贴6位验证码自动分配到各格
│   │   │   │   │   │   └── 键盘类型：数字键盘 + 单位数字输入限制
│   │   │   │   │   ├── 自动聚焦：验证码发送成功后自动聚焦到第1格
│   │   │   │   │   └── 实时验证：6位数字完整输入后自动启用下一步按钮
│   │   │   │   └── 📲「获取验证码」按钮 (右侧 - 动态状态按钮)
│   │   │   │       ├── 初始状态：
│   │   │   │       │   ├── 按钮样式：紫色文字#8A2BE2 + 透明背景
│   │   │   │       │   ├── 按钮文字："获取验证码" (14sp紫色)
│   │   │   │       │   └── 点击条件：页面加载后立即可点击
│   │   │   │       ├── 发送中状态：
│   │   │   │       │   ├── 按钮样式：灰色文字#999999 + 透明背景
│   │   │   │       │   ├── 按钮文字："发送中..." (14sp灰色)
│   │   │   │       │   └── 加载动画：小转圈图标
│   │   │   │       ├── 倒计时状态：
│   │   │   │       │   ├── 按钮样式：灰色文字#999999 + 透明背景
│   │   │   │       │   ├── 按钮文字："重新发送(60s)" (14sp灰色)
│   │   │   │       │   └── 倒计时效果：每秒递减数字更新
│   │   │   │       └── 重发状态：
│   │   │   │           ├── 按钮样式：紫色文字#8A2BE2 + 透明背景
│   │   │   │           └── 按钮文字："重新发送" (14sp紫色)
│   │   │   └── 🔧 验证码表单验证系统 (相同的验证逻辑)
│   │   │
│   │   ├── 🎯 主要操作区域 (下一步按钮区域 - 顶部间距60px)
│   │   │   └── 💜「下一步」按钮 📋 (主要操作按钮)
│   │   │       ├── 按钮容器 (相同尺寸)
│   │   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │   │       ├── 按钮文字："下一步" (18sp白色#FFFFFF)
│   │   │       ├── 按钮状态管理
│   │   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击（验证码未输入完整时）
│   │   │       │   └── 激活条件：验证码6位数字完整
│   │   │       └── 功能：验证验证码后跳转到重置密码页面
│   │   │
│   │   └── 📱 底部安全区域 (相同规格)
│   │
│   ├── 【忘记密码-输入验证码页面】📱（验证码验证页面 - 白色背景#FFFFFF）
│   │   ├── 📱 系统状态栏 (相同规格)
│   │   │
│   │   ├── 🔝 页面导航栏 (相同规格)
│   │   │   ├── 🔙「<」返回按钮 (返回到验证码发送页面)
│   │   │   └── 📝 页面标题 "忘记密码" (相同样式)
│   │   │
│   │   ├── 🎯 说明信息区域 (顶部内容区 - 顶部间距80px)
│   │   │   ├── 📝 主标题 "输入验证码" (28sp黑色#333333 粗体)
│   │   │   └── 📝 说明文字 "请输入发送至 131****6323 的验证码" (16sp灰色#666666)
│   │   │       └── 手机号显示：中间4位用****遮盖显示
│   │   │
│   │   ├── 🔐 验证码输入区域 (主要功能区域 - 顶部间距60px)
│   │   │   ├── 《验证码输入区域》📋 (验证码组件容器 - 高度56px)
│   │   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   │   ├── 《验证码分格输入区域》📋 (6位分格验证码输入 - 与验证码登录相同)
│   │   │   │   │   ├── 输入框组合：6个独立的分格输入框
│   │   │   │   │   ├── 单个输入框样式：
│   │   │   │   │   │   ├── 尺寸：48x48px正方形
│   │   │   │   │   │   ├── 边框：1px灰色#E5E5E5 + 圆角8px
│   │   │   │   │   │   ├── 背景：白色#FFFFFF
│   │   │   │   │   │   ├── 文字：24sp黑色#333333居中显示
│   │   │   │   │   │   ├── 间距：每个输入框之间16px间距
│   │   │   │   │   │   └── 焦点状态：紫色边框#8A2BE2 + 2px边框
│   │   │   │   │   ├── 输入显示状态：
│   │   │   │   │   │   ├── 空状态：透明背景 + 灰色边框 + 无内容
│   │   │   │   │   │   ├── 输入中：紫色边框 + 白色背景 + 显示数字
│   │   │   │   │   │   ├── 已输入：灰色边框 + 白色背景 + 显示数字
│   │   │   │   │   │   └── 错误状态：红色边框#FF4444 + 红色数字
│   │   │   │   │   ├── 交互逻辑：
│   │   │   │   │   │   ├── 自动跳转：输入一位数字后自动跳转到下一格
│   │   │   │   │   │   ├── 删除逻辑：删除时自动跳转到上一格
│   │   │   │   │   │   ├── 粘贴支持：支持粘贴6位验证码自动分配到各格
│   │   │   │   │   │   └── 键盘类型：数字键盘 + 单位数字输入限制
│   │   │   │   │   ├── 输入状态：自动聚焦到第1格
│   │   │   │   │   └── 实时验证：6位数字完整输入后自动启用下一步按钮
│   │   │   │   └── 📲「重新发送」按钮 (右侧 - 重发状态)
│   │   │   │       ├── 按钮样式：紫色文字#8A2BE2 + 透明背景
│   │   │   │       ├── 按钮文字："重新发送" (14sp紫色)
│   │   │   │       └── 功能：重新发送验证码
│   │   │   └── 🔧 验证码表单验证系统 (相同的验证逻辑)
│   │   │
│   │   ├── 🎯 主要操作区域 (下一步按钮区域 - 顶部间距60px)
│   │   │   └── 💜「下一步」按钮 📋 (主要操作按钮)
│   │   │       ├── 按钮容器 (相同尺寸)
│   │   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │   │       ├── 按钮文字："下一步" (18sp白色#FFFFFF)
│   │   │       ├── 按钮状态管理
│   │   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击（验证码未输入完整时）
│   │   │       │   └── 激活条件：验证码6位数字完整
│   │   │       └── 功能：验证验证码后跳转到重置密码页面
│   │   │
│   │   └── 📱 底部安全区域 (相同规格)
│   │
│   ├── 【忘记密码-重置密码页面】📱（新密码设置页面 - 白色背景#FFFFFF）
│   │   ├── 📱 系统状态栏 (相同规格)
│   │   │
│   │   ├── 🔝 页面导航栏 (相同规格)
│   │   │   ├── 🔙「<」返回按钮 (返回到验证码输入页面)
│   │   │   └── 📝 页面标题 "忘记密码" (相同样式)
│   │   │
│   │   ├── 🎯 说明信息区域 (顶部内容区 - 顶部间距80px)
│   │   │   ├── 📝 主标题 "重置密码" (28sp黑色#333333 粗体)
│   │   │   └── 📝 说明文字 "请设置新的登录密码" (16sp灰色#666666)
│   │   │       └── 字体样式：PingFang SC Regular + 左对齐
│   │   │
│   │   ├── 🔐 密码设置区域 (主要功能区域 - 顶部间距60px)
│   │   │   ├── 《新密码输入区域》📋 (密码组件容器 - 高度56px)
│   │   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   │   ├── 《新密码输入框》📋 (新密码输入区域)
│   │   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   │   ├── 占位符："请输入6-20位密码" (16sp灰色#999999)
│   │   │   │   │   ├── 输入类型：安全文本输入 + 6-20位长度限制
│   │   │   │   │   ├── 密码显示方式：
│   │   │   │   │   │   ├── 隐藏状态：显示黑色圆点 ● ● ● ● ● ● ● ●
│   │   │   │   │   │   ├── 圆点样式：8px黑色圆点#333333 + 4px间距
│   │   │   │   │   │   ├── 显示状态：显示实际字符内容
│   │   │   │   │   │   └── 动态长度：根据实际输入长度显示对应数量圆点
│   │   │   │   │   ├── 自动聚焦：页面加载时自动聚焦
│   │   │   │   │   └── 实时验证：密码长度和复杂度检查
│   │   │   │   └── 👁️ 密码显示切换按钮 (右侧 - 24x24px)
│   │   │   │       ├── 隐藏状态图标：👁️‍🗨️ 闭眼图标 (灰色#999999)
│   │   │   │       ├── 显示状态图标：👁️ 睁眼图标 (紫色#8A2BE2)
│   │   │   │       └── 状态切换：隐藏密码 ↔ 显示密码
│   │   │   │
│   │   │   ├── 《确认密码输入区域》📋 (确认密码组件容器 - 高度56px - 顶部间距24px)
│   │   │   │   ├── 📱 容器样式 (透明背景 + 底部边框1px #E5E5E5)
│   │   │   │   ├── 《确认密码输入框》📋 (确认密码输入区域)
│   │   │   │   │   ├── 输入框样式：透明背景 + 无边框
│   │   │   │   │   ├── 占位符："请再次输入新密码" (16sp灰色#999999)
│   │   │   │   │   ├── 输入类型：安全文本输入 + 与新密码匹配验证
│   │   │   │   │   ├── 密码显示方式：
│   │   │   │   │   │   ├── 隐藏状态：显示黑色圆点 ● ● ● ● ● ● ● ●
│   │   │   │   │   │   ├── 圆点样式：8px黑色圆点#333333 + 4px间距
│   │   │   │   │   │   ├── 显示状态：显示实际字符内容
│   │   │   │   │   │   └── 动态长度：根据实际输入长度显示对应数量圆点
│   │   │   │   │   └── 实时验证：密码一致性检查
│   │   │   │   └── 👁️ 密码显示切换按钮 (右侧 - 24x24px - 相同功能)
│   │   │   │
│   │   │   └── 🔧 密码验证系统 (隐藏验证层)
│   │   │       ├── 🔐 新密码验证规则
│   │   │       │   ├── 长度验证：6-20位字符
│   │   │       │   ├── 复杂度验证：字母数字组合（推荐）
│   │   │       │   └── 安全提示：弱/中/强密码强度指示
│   │   │       ├── 🔄 确认密码验证规则
│   │   │       │   ├── 一致性验证：与新密码完全匹配
│   │   │       │   ├── 实时检查：输入时实时比较
│   │   │       │   └── 错误提示：不一致时红色提示"两次密码输入不一致"
│   │   │       └── 📊 密码强度指示器 (可选功能)
│   │   │           ├── 弱密码：红色指示条 + "密码强度：弱"
│   │   │           ├── 中等密码：黄色指示条 + "密码强度：中"
│   │   │           └── 强密码：绿色指示条 + "密码强度：强"
│   │   │
│   │   ├── 🎯 主要操作区域 (完成按钮区域 - 顶部间距60px)
│   │   │   └── 💜「完成」按钮 📋 (主要操作按钮)
│   │   │       ├── 按钮容器 (相同尺寸)
│   │   │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│   │   │       ├── 按钮文字："完成" (18sp白色#FFFFFF)
│   │   │       ├── 按钮状态管理
│   │   │       │   ├── 禁用状态：灰色背景#CCCCCC + 不可点击
│   │   │       │   └── 激活条件：新密码符合要求 + 确认密码一致
│   │   │       └── 功能：提交新密码重置请求
│   │   │
│   │   └── 📱 底部安全区域 (相同规格)
│   │
│   └── 【忘记密码-重置成功页面】📱（成功反馈页面 - 白色背景#FFFFFF）
│       ├── 📱 系统状态栏 (相同规格)
│       │
│       ├── 🔝 页面导航栏 (简化版导航栏 - 无返回按钮)
│       │   └── 📝 页面标题 "密码重置成功" (居中 - 18sp黑色#333333粗体)
│       │
│       ├── 🎉 成功状态提示条 (顶部状态提示 - 顶部间距16px)
│       │   ├── 📱 提示条容器 (黑色背景条 - 高度44px)
│       │   │   ├── 背景样式：黑色#333333 + 圆角8px
│       │   │   ├── 位置：距离导航栏16px + 左右边距40px
│       │   │   ├── 内边距：12px垂直 + 16px水平
│       │   │   └── 阴影效果：0 2px 8px rgba(0,0,0,0.1)
│       │   ├── 📝 提示文字 "密码重置成功" (白色#FFFFFF)
│       │   │   ├── 字体样式：16sp白色#FFFFFF + PingFang SC Medium
│       │   │   ├── 对齐方式：居中对齐
│       │   │   └── 行间距：1.2倍行高
│       │   └── 🎨 状态指示
│       │       ├── 显示时机：页面加载时立即显示
│       │       ├── 显示时长：持续显示，不自动消失
│       │       └── 动画效果：页面加载时0.3s从顶部滑入
│       │
│       ├── 🎉 成功状态展示区域 (主要内容区域 - 顶部间距120px)
│       │   ├── 🎉 成功图标 (大型成功图标 - 居中显示)
│       │   │   ├── 图标样式：绿色圆形背景 + 白色勾选图标
│       │   │   ├── 图标尺寸：120x120px圆形
│       │   │   ├── 图标颜色：绿色#00C851背景 + 白色#FFFFFF勾选
│       │   │   ├── 动画效果：页面加载时0.5s缩放弹出动画
│       │   │   └── 阴影效果：0 8px 24px rgba(0,200,81,0.3)
│       │   │
│       │   ├── 📝 成功标题 "密码重置成功！" (28sp黑色#333333 粗体)
│       │   │   ├── 字体样式：PingFang SC Medium + 居中对齐
│       │   │   ├── 顶部间距：40px（距离成功图标）
│       │   │   └── 行间距：1.2倍行高
│       │   │
│       │   └── 📝 成功说明 "您的密码已重置成功，请使用新密码登录" (16sp灰色#666666)
│       │       ├── 字体样式：PingFang SC Regular + 居中对齐
│       │       ├── 顶部间距：16px（距离成功标题）
│       │       ├── 行间距：1.4倍行高
│       │       └── 最大宽度：屏幕宽度-80px（左右各40px边距）
│       │
│       ├── 🎯 主要操作区域 (返回登录按钮区域 - 顶部间距80px)
│       │   └── 💜「返回登录」按钮 📋 (主要操作按钮)
│       │       ├── 按钮容器 (相同尺寸)
│       │       ├── 按钮样式：渐变紫色背景#8A2BE2到#9370DB + 圆角26px
│       │       ├── 按钮文字："返回登录" (18sp白色#FFFFFF)
│       │       ├── 点击效果：0.1s缩放动画 + 涟漪扩散效果
│       │       ├── 阴影效果：0 4px 12px rgba(138,43,226,0.3)
│       │       └── 功能：返回到登录页面（密码登录模式）
│       │
│       ├── 🔧 自动跳转功能 (可选功能)
│       │   ├── ⏰ 倒计时显示 "3秒后自动返回登录页面" (14sp灰色#999999)
│       │   │   ├── 显示位置：返回登录按钮下方24px间距
│       │   │   ├── 倒计时效果：每秒递减数字更新
│       │   │   └── 居中对齐显示
│       │   ├── 🔄 自动跳转逻辑
│       │   │   ├── 倒计时时长：3秒
│       │   │   ├── 跳转目标：登录页面
│       │   │   └── 取消机制：用户点击按钮时取消自动跳转
│       │   └── 📱 跳转状态管理
│       │       ├── 页面激活检测：页面可见时才开始倒计时
│       │       ├── 用户交互检测：用户操作时暂停自动跳转
│       │       └── 页面切换清理：离开页面时清理定时器
│       │
│       └── 📱 底部安全区域 (相同规格)
│
├── 【弹窗组件群】📱（辅助页面集合 - 模态弹窗）
│   ├── 【地区选择弹窗】📋
│   │   ├── 🌐 弹窗容器 (底部抽屉样式 - 高度60%屏幕)
│   │   │   ├── 弹窗背景：白色#FFFFFF + 顶部圆角20px
│   │   │   ├── 遮罩层：半透明黑色rgba(0,0,0,0.5)
│   │   │   └── 动画效果：0.3s从底部滑入
│   │   ├── 🔝 弹窗头部 (固定头部 - 高度56px)
│   │   │   ├── 📝 标题 "选择国家或地区" (居中 - 18sp黑色粗体)
│   │   │   └── ❌ 关闭按钮 (右上角 - 灰色X图标 24x24px)
│   │   ├── 🔍 搜索区域 (搜索框 - 高度44px)
│   │   │   └── 《搜索输入框》"搜索国家或地区" (灰色边框 + 放大镜图标)
│   │   └── 📋 地区列表 (滚动列表)
│   │       ├── 📌 常用地区 (置顶分组)
│   │       │   ├── 🇨🇳 中国 +86 (默认选中 - 紫色背景)
│   │       │   └── 🇭🇰 中国香港 +852
│   │       ├── 🔥 热门地区 (热门分组)
│   │       └── 🔤 A-Z字母索引 (右侧快速定位)
│   │
│   ├── 【协议详情弹窗】📋
│   │   ├── 🌐 弹窗容器 (全屏模态 - 白色背景)
│   │   ├── 🔝 导航栏 (标题 + 关闭按钮)
│   │   ├── 📄 协议内容 (滚动文本区域)
│   │   └── 🔘 同意按钮 (底部固定 - 紫色按钮)
│   │
│   ├── 【错误提示弹窗】📋
│   │   ├── 🚨 Toast容器 (顶部通知条 - 高度48px)
│   │   │   ├── 背景样式：红色#FF4444 + 圆角8px + 阴影
│   │   │   ├── 文字样式：16sp白色#FFFFFF + 居中对齐
│   │   │   ├── 显示时长：3秒自动消失
│   │   │   └── 动画效果：0.3s从顶部滑入 + 0.3s渐出
│   │   ├── 错误类型1："手机号格式不正确"
│   │   ├── 错误类型2："密码长度至少6位"
│   │   └── 错误类型3："网络连接失败，请重试"
│   │
│   ├── 【加载状态弹窗】📋
│   │   ├── 🔄 加载容器 (居中模态 - 半透明背景)
│   │   ├── ⏳ 加载动画 (白色转圈 + 紫色主题)
│   │   ├── 📝 加载文字 "登录中..." (白色16sp)
│   │   └── 🚫 不可取消 (登录过程中不可中断)
│   │
│   ├── 【验证码发送成功提示】📋
│   │   ├── 🎉 成功容器 (顶部通知条 - 高度48px)
│   │   │   ├── 背景样式：绿色#00C851 + 圆角8px + 阴影
│   │   │   ├── 文字样式：16sp白色#FFFFFF + 居中对齐
│   │   │   ├── 显示时长：2秒自动消失
│   │   │   └── 动画效果：0.3s从顶部滑入 + 0.3s渐出
│   │   ├── 成功文案："验证码已发送，请注意查收"
│   │   └── 触发时机：验证码发送API成功响应后显示
│   │
│   ├── 【验证码发送失败提示】📋
│   │   ├── 🚨 失败容器 (顶部通知条 - 高度48px)
│   │   │   ├── 背景样式：红色#FF4444 + 圆角8px + 阴影
│   │   │   ├── 文字样式：16sp白色#FFFFFF + 居中对齐
│   │   │   ├── 显示时长：3秒自动消失
│   │   │   └── 动画效果：0.3s从顶部滑入 + 0.3s渐出
│   │   ├── 失败类型1："网络连接失败，请重试"
│   │   ├── 失败类型2："发送频率过快，请稍后再试"
│   │   ├── 失败类型3："手机号格式不正确"
│   │   └── 失败类型4："系统繁忙，请稍后重试"
│   │
│   ├── 【验证码登录加载弹窗】📋
│   │   ├── 🔄 加载容器 (居中模态 - 半透明背景)
│   │   ├── ⏳ 加载动画 (白色转圈 + 紫色主题)
│   │   ├── 📝 加载文字 "验证中..." (白色16sp)
│   │   └── 🚫 不可取消 (验证过程中不可中断)
│   │
│   ├── 【忘记密码-验证码发送提示】📋
│   │   ├── 🎉 成功容器 (顶部通知条 - 高度48px)
│   │   │   ├── 背景样式：绿色#00C851 + 圆角8px + 阴影
│   │   │   ├── 文字样式：16sp白色#FFFFFF + 居中对齐
│   │   │   ├── 显示时长：2秒自动消失
│   │   │   └── 动画效果：0.3s从顶部滑入 + 0.3s渐出
│   │   ├── 成功文案："验证码已发送，请注意查收"
│   │   └── 触发时机：忘记密码验证码发送API成功响应后显示
│   │
│   ├── 【忘记密码-验证码验证失败提示】📋
│   │   ├── 🚨 失败容器 (顶部通知条 - 高度48px)
│   │   │   ├── 背景样式：红色#FF4444 + 圆角8px + 阴影
│   │   │   ├── 文字样式：16sp白色#FFFFFF + 居中对齐
│   │   │   ├── 显示时长：3秒自动消失
│   │   │   └── 动画效果：0.3s从顶部滑入 + 0.3s渐出
│   │   ├── 失败类型1："验证码错误，请重新输入"
│   │   ├── 失败类型2："验证码已过期，请重新获取"
│   │   ├── 失败类型3："验证码已失效，请重新获取"
│   │   └── 失败类型4："验证失败次数过多，请重新获取验证码"
│   │
│   ├── 【忘记密码-密码重置加载弹窗】📋
│   │   ├── 🔄 加载容器 (居中模态 - 半透明背景)
│   │   ├── ⏳ 加载动画 (白色转圈 + 紫色主题)
│   │   ├── 📝 加载文字 "密码重置中..." (白色16sp)
│   │   └── 🚫 不可取消 (重置过程中不可中断)
│   │
│   ├── 【忘记密码-密码强度提示弹窗】📋
│   │   ├── 💡 提示容器 (底部提示条 - 高度60px)
│   │   │   ├── 背景样式：半透明黑色rgba(0,0,0,0.8) + 圆角8px
│   │   │   ├── 文字样式：14sp白色#FFFFFF + 左对齐
│   │   │   ├── 显示时长：密码输入时显示，失去焦点后2秒消失
│   │   │   └── 动画效果：0.2s从底部滑入 + 0.2s渐出
│   │   ├── 密码要求提示："密码长度6-20位，建议包含字母和数字"
│   │   ├── 强度指示："当前密码强度：弱/中/强"
│   │   └── 触发时机：用户开始输入新密码时显示
│   │
│   └── 【忘记密码-确认退出弹窗】📋
│       ├── 🔗 模态对话框 (居中弹窗 - 280x180px)
│       │   ├── 弹窗背景：白色#FFFFFF + 圆角12px + 阴影
│       │   ├── 遮罩层：半透明黑色rgba(0,0,0,0.5)
│       │   └── 动画效果：0.3s缩放弹出
│       ├── 📝 对话框标题 "确认退出" (18sp黑色#333333粗体)
│       ├── 📝 对话框内容 "退出将清空当前输入的信息，确认退出吗？" (16sp灰色#666666)
│       ├── 🔘 按钮组 (底部水平排列)
│       │   ├── 💜「取消」按钮 (左侧 - 透明背景 + 紫色文字)
│       │   │   ├── 按钮样式：透明背景 + 紫色文字#8A2BE2
│       │   │   ├── 按钮尺寸：100x40px + 圆角8px
│       │   │   └── 功能：关闭弹窗，继续当前流程
│       │   └── 💜「确认退出」按钮 (右侧 - 紫色背景 + 白色文字)
│       │       ├── 按钮样式：紫色背景#8A2BE2 + 白色文字
│       │       ├── 按钮尺寸：100x40px + 圆角8px
│       │       └── 功能：清空数据并返回登录页面
│       └── 触发时机：用户在忘记密码流程中点击返回按钮时显示
│
└── 🔧 系统支持层（底层技术服务 - 为登录提供技术支撑）
    ├── 📡 网络服务层
    │   ├── 「登录API服务」（注：用户身份验证接口）
    │   │   ├── 接口地址：POST /api/auth/login
    │   │   ├── 请求参数：手机号 + 密码 + 设备信息
    │   │   ├── 响应数据：用户Token + 用户基本信息
    │   │   ├── 错误处理：网络超时 + 服务器错误 + 参数错误
    │   │   └── 安全机制：HTTPS加密 + 请求签名验证
    │   ├── 「验证码API服务」（注：短信验证码发送）
    │   │   ├── 发送接口：POST /api/sms/send
    │   │   │   ├── 请求参数：手机号 + 地区代码 + 设备指纹
    │   │   │   ├── 响应数据：发送状态 + 验证码ID + 过期时间
    │   │   │   ├── 频率限制：60秒间隔 + 每日10次上限
    │   │   │   └── 验证逻辑：手机号验证 + 图形验证码（可选）
    │   │   ├── 验证接口：POST /api/sms/verify
    │   │   │   ├── 请求参数：手机号 + 验证码 + 验证码ID
    │   │   │   ├── 响应数据：验证结果 + 用户Token（成功时）
    │   │   │   ├── 验证逻辑：验证码匹配 + 有效期检查 + 次数限制
    │   │   │   └── 安全机制：防暴力破解 + 异常检测
    │   │   ├── 成本控制：短信计费 + 异常监控 + 供应商切换
    │   │   └── 模板管理：验证码模板 + 多语言支持 + 品牌定制
    │   ├── 「忘记密码API服务」（注：密码重置流程接口）
    │   │   ├── 重置请求接口：POST /api/auth/forgot-password
    │   │   │   ├── 请求参数：手机号 + 地区代码 + 设备指纹
    │   │   │   ├── 响应数据：重置会话ID + 验证码发送状态
    │   │   │   ├── 安全检查：手机号验证 + 用户存在性检查
    │   │   │   └── 频率限制：每小时最多5次重置请求
    │   │   ├── 验证码验证接口：POST /api/auth/verify-reset-code
    │   │   │   ├── 请求参数：手机号 + 验证码 + 重置会话ID
    │   │   │   ├── 响应数据：验证结果 + 密码重置Token
    │   │   │   ├── 验证逻辑：验证码匹配 + 会话有效性检查
    │   │   │   └── 安全机制：3次错误限制 + 会话过期检查
    │   │   ├── 密码重置接口：POST /api/auth/reset-password
    │   │   │   ├── 请求参数：新密码 + 确认密码 + 重置Token
    │   │   │   ├── 响应数据：重置结果 + 操作状态
    │   │   │   ├── 密码验证：长度检查 + 复杂度验证 + 历史密码检查
    │   │   │   └── 安全处理：密码加密存储 + 会话清理 + 通知发送
    │   │   ├── 重置状态查询：GET /api/auth/reset-status/{sessionId}
    │   │   │   ├── 响应数据：当前步骤 + 剩余时间 + 错误次数
    │   │   │   ├── 状态类型：等待验证码/验证码已发送/验证成功/重置完成
    │   │   │   └── 会话管理：15分钟会话有效期 + 自动清理
    │   │   └── 安全审计：重置操作日志 + 异常行为检测 + 风险评估
    │   └── 「地区数据服务」（注：国家地区代码）
    │       ├── 数据来源：ISO 3166国家代码标准
    │       ├── 缓存策略：本地缓存 + 7天更新周期
    │       └── 搜索优化：拼音搜索 + 模糊匹配
    │
    ├── 🔐 安全服务层
    │   ├── 「密码加密服务」（注：密码安全处理）
    │   │   ├── 加密算法：BCrypt + Salt随机盐值
    │   │   ├── 传输安全：客户端预加密 + HTTPS传输
    │   │   ├── 存储安全：服务端Hash + 不可逆加密
    │   │   └── 防攻击：密码尝试次数限制 + 账户锁定
    │   ├── 「设备指纹服务」（注：设备唯一标识）
    │   │   ├── 设备信息：设备型号 + 系统版本 + 应用版本
    │   │   ├── 环境信息：IP地址 + 网络类型 + 地理位置
    │   │   ├── 安全检测：设备异常 + 环境风险评估
    │   │   └── 隐私保护：信息脱敏 + 用户授权
    │   └── 「Token管理服务」（注：用户会话管理）
    │       ├── Token生成：JWT标准 + 过期时间控制
    │       ├── Token刷新：自动续期 + 静默刷新
    │       ├── Token撤销：退出登录 + 异常注销
    │       └── 多端管理：设备绑定 + 互踢机制
    │
    ├── 📊 数据服务层
    │   ├── 「本地存储服务」（注：客户端数据缓存）
    │   │   ├── 用户信息：基本资料 + 偏好设置
    │   │   ├── 登录历史：最近登录账号 + 自动填充
    │   │   ├── 应用配置：主题设置 + 语言选择
    │   │   └── 缓存管理：过期清理 + 容量控制
    │   ├── 「表单验证服务」（注：输入数据验证）
    │   │   ├── 实时验证：输入格式 + 长度限制
    │   │   ├── 提交验证：完整性检查 + 安全过滤
    │   │   ├── 错误处理：错误提示 + 焦点定位
    │   │   └── 用户体验：防抖动 + 智能提示
    │   └── 「状态管理服务」（注：应用状态管理）
    │       ├── 登录状态：已登录 + 未登录 + 登录中
    │       ├── 网络状态：在线 + 离线 + 连接中
    │       ├── 界面状态：加载 + 错误 + 成功
    │       └── 数据同步：状态持久化 + 跨页面同步
    │
    └── 📱 用户体验服务层
        ├── 「动画效果服务」（注：界面动画管理）
        │   ├── 转场动画：页面切换 + 模态弹出
        │   ├── 交互动画：按钮点击 + 输入反馈
        │   ├── 加载动画：数据加载 + 进度指示
        │   └── 性能优化：动画帧率 + 内存控制
        ├── 「无障碍服务」（注：可访问性支持）
        │   ├── 屏幕阅读：VoiceOver + TalkBack支持
        │   ├── 焦点管理：Tab导航 + 焦点指示
        │   ├── 字体缩放：动态字体 + 大字体模式
        │   └── 色彩对比：高对比度 + 色盲友好
        ├── 「错误处理服务」（注：异常情况处理）
        │   ├── 网络异常：连接超时 + 重试机制
        │   ├── 服务异常：API错误 + 降级处理
        │   ├── 输入异常：格式错误 + 友好提示
        │   └── 系统异常：崩溃恢复 + 错误上报
        └── 「性能监控服务」（注：性能数据收集）
            ├── 页面性能：加载时间 + 渲染性能
            ├── 网络性能：请求延迟 + 成功率
            ├── 用户行为：操作路径 + 转化率
            └── 异常监控：错误统计 + 性能预警
```

---

## 🔄 探店APP登录模块 - 流程图（用户操作视角）

```
开始
 ↓
【用户进入探店APP】
 ├─→ 应用首次安装启动
 ├─→ 应用正常启动（未登录状态）
 └─→ 从其他页面跳转到登录
 ↓
【登录页面初始化】
 ↓
页面数据加载和准备
 ├─→ 加载页面UI组件和样式
 ├─→ 初始化输入框和验证规则
 ├─→ 检查本地存储的登录历史
 ├─→ 设置默认地区代码（+86中国）
 └─→ 自动聚焦到手机号输入框
 ↓
用户操作选择分流
 │
 ├─→ 【主要登录路径】（复杂操作流程 - 5-6个关联事件）
 │    ↓
 │   【手机号+密码登录流程】
 │    ├─→ 输入手机号码
 │    │    ↓
 │    │   用户点击手机号输入框
 │    │    ├─→ 输入框获得焦点 → 显示数字键盘
 │    │    ├─→ 用户输入手机号码 "13147046323"
 │    │    │    ├─→ 实时格式验证 → 11位数字检查
 │    │    │    ├─→ 运营商号段验证 → 有效号码确认
 │    │    │    └─→ 显示清空按钮 → 用户可一键清空
 │    │    ├─→ 格式错误处理
 │    │    │    ├─→ 显示红色错误提示 "手机号格式不正确"
 │    │    │    ├─→ 输入框边框变红色
 │    │    │    └─→ 禁用登录按钮（灰色状态）
 │    │    └─→ 格式正确处理
 │    │         ├─→ 隐藏错误提示
 │    │         ├─→ 恢复输入框正常样式
 │    │         └─→ 自动跳转到密码输入框
 │    │
 │    ├─→ 输入登录密码
 │    │    ↓
 │    │   用户点击密码输入框
 │    │    ├─→ 输入框获得焦点 → 显示安全键盘
 │    │    ├─→ 用户输入密码 "you990929"
 │    │    │    ├─→ 默认隐藏显示 → 字符变为掩码"••••••••"
 │    │    │    ├─→ 实时长度验证 → 6-20位字符检查
 │    │    │    ├─→ 密码强度检测 → 弱/中/强提示（可选）
 │    │    │    └─→ 显示密码切换按钮
 │    │    ├─→ 密码显示切换操作
 │    │    │    ├─→ 点击👁️‍🗨️闭眼图标 → 切换为👁️睁眼图标
 │    │    │    ├─→ 密码文字从掩码变为明文 "you990929"
 │    │    │    ├─→ 图标颜色变为紫色#8A2BE2
 │    │    │    └─→ 再次点击可切换回隐藏状态
 │    │    ├─→ 密码长度不足处理
 │    │    │    ├─→ 显示红色错误提示 "密码长度至少6位"
 │    │    │    └─→ 禁用登录按钮（灰色状态）
 │    │    └─→ 密码格式正确处理
 │    │         ├─→ 隐藏错误提示
 │    │         ├─→ 启用登录按钮（紫色渐变）
 │    │         └─→ 准备提交登录请求
 │    │
 │    ├─→ 执行登录操作
 │    │    ↓
 │    │   用户点击"登陆"按钮
 │    │    ├─→ 按钮点击反馈
 │    │    │    ├─→ 0.1s缩放95%动画效果
 │    │    │    ├─→ 涟漪扩散效果
 │    │    │    └─→ 轻微震动反馈
 │    │    ├─→ 表单最终验证
 │    │    │    ├─→ 手机号完整性检查
 │    │    │    ├─→ 密码完整性检查
 │    │    │    └─→ 网络连接状态检查
 │    │    ├─→ 显示登录加载状态
 │    │    │    ├─→ 按钮文字变为转圈动画
 │    │    │    ├─→ 弹出半透明加载弹窗
 │    │    │    ├─→ 显示"登录中..."文字提示
 │    │    │    └─→ 禁用所有输入和按钮
 │    │    └─→ 发送登录API请求
 │    │         ├─→ 密码客户端预加密处理
 │    │         ├─→ 设备信息和环境数据收集
 │    │         ├─→ HTTPS安全传输到服务器
 │    │         └─→ 等待服务器响应结果
 │    │
 │    ├─→ 处理登录结果
 │    │    ├─→ 登录成功处理
 │    │    │    ├─→ 隐藏加载弹窗和动画
 │    │    │    ├─→ 保存用户Token到本地
 │    │    │    ├─→ 保存用户基本信息
 │    │    │    ├─→ 更新应用登录状态
 │    │    │    ├─→ 显示成功提示 "登录成功"
 │    │    │    └─→ 0.5s后跳转到应用主页
 │    │    │
 │    │    ├─→ 登录失败处理
 │    │    │    ├─→ 隐藏加载弹窗和动画
 │    │    │    ├─→ 恢复按钮正常状态
 │    │    │    ├─→ 显示具体错误提示
 │    │    │    │    ├─→ "用户名或密码错误"
 │    │    │    │    ├─→ "账号已被锁定"
 │    │    │    │    └─→ "登录失败，请稍后重试"
 │    │    │    ├─→ 错误提示3秒后自动消失
 │    │    │    └─→ 用户可重新输入或选择其他方式
 │    │    │
 │    │    └─→ 网络异常处理
 │    │         ├─→ 隐藏加载状态
 │    │         ├─→ 显示网络错误提示 "网络连接失败，请重试"
 │    │         ├─→ 提供重试按钮
 │    │         └─→ 检查网络状态并引导用户
 │    │
 │    └─→ 登录后续处理
 │         ├─→ 更新用户登录历史记录
 │         ├─→ 同步用户数据和设置
 │         ├─→ 初始化用户相关服务
 │         └─→ 跳转到应用主页面
 │
 ├─→ 【辅助功能路径A】（中等复杂度流程 - 3-4个关联事件）
 │    ↓
 │   【地区选择功能操作】
 │    ├─→ 点击地区选择器 "+86 🔽"
 │    │    ↓
 │    │   弹出地区选择弹窗
 │    │    ├─→ 0.3s从底部滑入动画
 │    │    ├─→ 显示半透明遮罩层
 │    │    └─→ 展示地区列表内容
 │    ├─→ 浏览和搜索地区
 │    │    ├─→ 查看常用地区（中国+86默认选中）
 │    │    ├─→ 浏览热门地区列表
 │    │    ├─→ 使用A-Z字母索引快速定位
 │    │    └─→ 搜索框输入国家名称查找
 │    ├─→ 选择目标地区
 │    │    ├─→ 点击目标地区（如香港+852）
 │    │    ├─→ 地区高亮选中状态
 │    │    ├─→ 0.3s滑出关闭弹窗
 │    │    └─→ 更新主页面地区显示为"+852"
 │    └─→ 取消选择操作
 │         ├─→ 点击遮罩层或关闭按钮
 │         ├─→ 0.3s滑出关闭弹窗
 │         └─→ 保持原有地区设置不变
 │
 ├─→ 【辅助功能路径B】（简单操作流程 - 1-2个关联事件）
 │    ↓
 │   【验证码登录切换】
│    ├─→ 点击"验证码登陆"按钮 → 【切换到验证码登录模式】
│    │    ├─→ 按钮文字颜色加深反馈
│    │    ├─→ 页面切换到验证码登录模式
│    │    ├─→ 隐藏密码输入框 + 显示验证码输入框
│    │    ├─→ 显示"获取验证码"按钮
│    │    ├─→ 左侧按钮文字变为"密码登陆"
│    │    └─→ 保持手机号输入框内容不变
 │    │
│    ├─→ 点击"忘记密码?"按钮 → 【进入忘记密码流程】
│    │    ├─→ 按钮文字颜色加深反馈
│    │    └─→ 跳转到忘记密码入口页面
 │    │
 │    └─→ 协议链接点击
 │         ├─→ 点击"探店用户协议"链接
 │         │    ├─→ 链接颜色加深反馈
 │         │    └─→ 弹出用户协议详情页面
 │         └─→ 点击"隐私政策"链接
 │              ├─→ 链接颜色加深反馈
 │              └─→ 弹出隐私政策详情页面
 │
 ├─→ 【输入辅助功能路径】（通用组件复用流程）
 │    ↓
 │   触发输入框辅助功能
 │    ├─→ 手机号输入框辅助操作
 │    │    ├─→ 点击清空按钮❌
 │    │    │    ├─→ 0.1s缩放动画反馈
 │    │    │    ├─→ 清空输入框内容
 │    │    │    ├─→ 隐藏清空按钮
 │    │    │    └─→ 重新显示占位符文字
 │    │    ├─→ 输入框失去焦点
 │    │    │    ├─→ 隐藏键盘
 │    │    │    ├─→ 执行最终格式验证
 │    │    │    └─→ 显示验证结果（正确/错误）
 │    │    └─→ 自动填充功能（如有历史记录）
 │    │         ├─→ 检测到历史登录手机号
 │    │         ├─→ 显示自动填充建议
 │    │         └─→ 用户选择后自动填入
 │    │
 │    ├─→ 密码输入框辅助操作
 │    │    ├─→ 密码显示/隐藏切换
 │    │    │    ├─→ 点击👁️图标
 │    │    │    ├─→ 0.2s图标变色和切换
 │    │    │    ├─→ 密码文字显示状态切换
 │    │    │    └─→ 图标状态同步更新
 │    │    ├─→ 密码强度实时检测（可选功能）
 │    │    │    ├─→ 检测字符复杂度
 │    │    │    ├─→ 显示强度指示器（弱/中/强）
 │    │    │    └─→ 提供安全建议提示
 │    │    └─→ 密码输入完成自动验证
 │    │         ├─→ 长度验证（6-20位）
 │    │         ├─→ 字符类型验证
 │    │         └─→ 启用/禁用登录按钮
 │    │
 │    └─→ 表单状态管理
 │         ├─→ 实时验证状态更新
 │         │    ├─→ 输入内容变化监听
 │         │    ├─→ 验证规则实时应用
 │         │    ├─→ 错误提示动态显示/隐藏
 │         │    └─→ 登录按钮状态动态控制
 │         ├─→ 表单数据临时保存
 │         │    ├─→ 输入内容本地暂存
 │         │    ├─→ 页面刷新数据恢复
 │         │    └─→ 应用切换数据保持
 │         └─→ 表单重置功能
 │              ├─→ 清空所有输入内容
 │              ├─→ 重置所有验证状态
 │              └─→ 恢复初始页面状态
 │
 └─→ 【系统级处理路径】
      ↓
     【系统级登录处理】
      ├─→ 应用生命周期管理
      │    ├─→ 应用启动时检查登录状态
      │    │    ├─→ 检查本地Token有效性
      │    │    ├─→ 验证Token是否过期
      │    │    ├─→ 自动静默刷新Token
      │    │    └─→ 决定显示登录页或主页
      │    ├─→ 应用切换到后台处理
      │    │    ├─→ 保存当前输入状态
      │    │    ├─→ 暂停网络请求
      │    │    └─→ 清理敏感信息显示
      │    └─→ 应用从后台恢复处理
      │         ├─→ 恢复输入状态
      │         ├─→ 重新检查网络连接
      │         └─→ 验证登录状态有效性
      │
      ├─→ 设备和环境适配
      │    ├─→ 不同设备尺寸适配
      │    │    ├─→ iPhone SE小屏适配
      │    │    ├─→ iPhone标准屏幕适配
      │    │    ├─→ iPhone Plus大屏适配
      │    │    └─→ iPad平板横竖屏适配
      │    ├─→ 系统版本兼容处理
      │    │    ├─→ iOS 13+新特性支持
      │    │    ├─→ 深色模式自动适配
      │    │    ├─→ 动态字体大小支持
      │    │    └─→ 无障碍功能兼容
      │    └─→ 网络环境适配
      │         ├─→ WiFi网络环境优化
      │         ├─→ 4G/5G移动网络适配
      │         ├─→ 弱网环境降级处理
      │         └─→ 离线模式友好提示
      │
      ├─→ 安全和隐私保护
      │    ├─→ 输入内容安全处理
      │    │    ├─→ 密码输入防截屏保护
      │    │    ├─→ 敏感信息内存及时清理
      │    │    ├─→ 键盘输入防窃听保护
      │    │    └─→ 剪贴板敏感信息保护
      │    ├─→ 设备安全检测
      │    │    ├─→ 越狱/Root设备检测
      │    │    ├─→ 调试环境检测
      │    │    ├─→ 模拟器环境检测
      │    │    └─→ 恶意软件环境检测
      │    └─→ 网络传输安全
      │         ├─→ HTTPS证书验证
      │         ├─→ 请求数据加密传输
      │         ├─→ 响应数据完整性校验
      │         └─→ 中间人攻击防护
      │
      └─→ 性能和用户体验优化
           ├─→ 页面加载性能优化
           │    ├─→ 关键资源预加载
           │    ├─→ 图片和字体优化加载
           │    ├─→ 动画性能优化
           │    └─→ 内存使用优化
           ├─→ 网络请求性能优化
           │    ├─→ API请求超时控制
           │    ├─→ 请求重试机制
           │    ├─→ 请求缓存策略
           │    └─→ 并发请求控制
           ├─→ 用户体验细节优化
           │    ├─→ 触摸反馈优化
           │    ├─→ 动画流畅度优化
           │    ├─→ 加载状态友好提示
           │    └─→ 错误信息人性化
           └─→ 数据统计和分析
                ├─→ 用户行为数据收集
                ├─→ 页面性能数据统计
                ├─→ 登录成功率分析
                └─→ 用户体验指标监控
 ↓
【登录流程汇聚点】- 所有路径最终汇聚处理
 ↓
用户选择后续操作
 ├─→ 登录成功 → 进入应用主页面
 │    ├─→ 初始化用户个人数据
 │    ├─→ 加载用户偏好设置
 │    ├─→ 同步用户云端数据
 │    └─→ 开始正常应用使用流程
 ├─→ 登录失败 → 重新尝试登录
 │    ├─→ 修改输入信息重新登录
 │    ├─→ 切换其他登录方式
 │    ├─→ 找回密码或注册新账号
 │    └─→ 联系客服寻求帮助
 ├─→ 取消登录 → 退出登录流程
 │    ├─→ 返回应用启动页面
 │    ├─→ 以游客模式使用应用
 │    └─→ 完全退出应用
 └─→ 切换登录方式 → 进入其他登录流程
      ├─→ 【验证码登录完整流程】
      │    ↓
      │   【验证码登录主流程】（复杂操作流程 - 6-7个关联事件）
      │    ├─→ 输入手机号码（与密码模式相同）
      │    │    ├─→ 格式验证 + 运营商验证
      │    │    ├─→ 错误处理 + 正确处理
      │    │    └─→ 自动跳转到验证码输入框
      │    │
      │    ├─→ 获取验证码操作
      │    │    ↓
      │    │   用户点击"获取验证码"按钮
      │    │    ├─→ 按钮状态切换为"发送中..."
      │    │    ├─→ 显示小转圈加载动画
      │    │    ├─→ 发送验证码API请求
      │    │    │    ├─→ 请求参数：手机号 + 地区代码 + 设备指纹
      │    │    │    ├─→ 安全验证：频率限制检查 + 异常检测
      │    │    │    └─→ 短信服务：选择供应商 + 发送短信
      │    │    ├─→ 处理发送结果
      │    │    │    ├─→ 发送成功处理
      │    │    │    │    ├─→ 显示成功提示 "验证码已发送，请注意查收"
      │    │    │    │    ├─→ 按钮进入倒计时状态 "重新发送(60s)"
      │    │    │    │    ├─→ 自动聚焦到验证码输入框
      │    │    │    │    ├─→ 开始60秒倒计时递减
      │    │    │    │    └─→ 保存验证码ID和过期时间
      │    │    │    ├─→ 发送失败处理
      │    │    │    │    ├─→ 显示失败提示（根据错误类型）
      │    │    │    │    │    ├─→ "网络连接失败，请重试"
      │    │    │    │    │    ├─→ "发送频率过快，请稍后再试"
      │    │    │    │    │    ├─→ "手机号格式不正确"
      │    │    │    │    │    └─→ "系统繁忙，请稍后重试"
      │    │    │    │    ├─→ 按钮状态变为"发送失败，重试"
      │    │    │    │    ├─→ 按钮颜色变为红色
      │    │    │    │    └─→ 用户可点击重新尝试发送
      │    │    │    └─→ 网络异常处理
      │    │    │         ├─→ 显示网络错误提示
      │    │    │         ├─→ 提供重试按钮
      │    │    │         └─→ 检查网络状态
      │    │    └─→ 倒计时管理
      │    │         ├─→ 每秒更新倒计时数字
      │    │         ├─→ 倒计时结束后恢复"重新发送"状态
      │    │         └─→ 页面切换或刷新时保持倒计时状态
      │    │
      │    ├─→ 输入验证码操作
      │    │    ↓
      │    │   用户在验证码分格输入框输入
      │    │    ├─→ 第1格获得焦点 → 显示数字键盘
      │    │    ├─→ 用户逐格输入验证码
      │    │    │    ├─→ 输入单位数字 → 自动跳转到下一格
      │    │    │    ├─→ 删除操作 → 自动跳转到上一格
      │    │    │    ├─→ 粘贴操作 → 自动分配6位数字到各格
      │    │    │    ├─→ 实时长度验证 → 6位数字检查
      │    │    │    ├─→ 输入完成检测 → 6位数字输入完成
      │    │    │    └─→ 启用登录按钮（紫色渐变）
      │    │    ├─→ 输入错误处理
      │    │    │    ├─→ 格式错误：非数字字符自动过滤
      │    │    │    ├─→ 长度不足：登录按钮保持禁用状态
      │    │    │    └─→ 超出长度：自动截取前6位数字
      │    │    └─→ 输入完成状态
      │    │         ├─→ 验证码输入框显示6位数字
      │    │         ├─→ 登录按钮变为可点击状态
      │    │         └─→ 准备提交验证码验证请求
      │    │
      │    ├─→ 执行验证码登录操作
      │    │    ↓
      │    │   用户点击"登陆"按钮
      │    │    ├─→ 按钮点击反馈（相同的缩放和涟漪效果）
      │    │    ├─→ 表单最终验证
      │    │    │    ├─→ 手机号完整性检查
      │    │    │    ├─→ 验证码完整性检查（6位数字）
      │    │    │    └─→ 网络连接状态检查
      │    │    ├─→ 显示验证码登录加载状态
      │    │    │    ├─→ 按钮文字变为转圈动画
      │    │    │    ├─→ 弹出半透明加载弹窗
      │    │    │    ├─→ 显示"验证中..."文字提示
      │    │    │    └─→ 禁用所有输入和按钮
      │    │    └─→ 发送验证码验证API请求
      │    │         ├─→ 请求参数：手机号 + 验证码 + 验证码ID
      │    │         ├─→ 安全验证：验证码匹配 + 有效期检查 + 次数限制
      │    │         ├─→ HTTPS安全传输到服务器
      │    │         └─→ 等待服务器验证响应结果
      │    │
      │    ├─→ 处理验证码登录结果
      │    │    ├─→ 验证成功处理
      │    │    │    ├─→ 隐藏加载弹窗和动画
      │    │    │    ├─→ 保存用户Token到本地
      │    │    │    ├─→ 保存用户基本信息
      │    │    │    ├─→ 更新应用登录状态
      │    │    │    ├─→ 显示成功提示 "登录成功"
      │    │    │    └─→ 0.5s后跳转到应用主页
      │    │    │
      │    │    ├─→ 验证失败处理
      │    │    │    ├─→ 隐藏加载弹窗和动画
      │    │    │    ├─→ 恢复按钮正常状态
      │    │    │    ├─→ 显示具体错误提示
      │    │    │    │    ├─→ "验证码错误，请重新输入"
      │    │    │    │    ├─→ "验证码已过期，请重新获取"
      │    │    │    │    ├─→ "验证码已失效，请重新获取"
      │    │    │    │    └─→ "验证失败次数过多，请重新获取验证码"
      │    │    │    ├─→ 错误状态UI更新
      │    │    │    │    ├─→ 验证码输入框底部显示红色边框
      │    │    │    │    ├─→ 输入框下方显示红色错误文字
      │    │    │    │    ├─→ 自动清空验证码输入框内容
      │    │    │    │    └─→ 自动聚焦到验证码输入框
      │    │    │    ├─→ 错误次数管理
      │    │    │    │    ├─→ 记录当前错误次数
      │    │    │    │    ├─→ 3次错误后强制重新获取验证码
      │    │    │    │    ├─→ 清空验证码输入框
      │    │    │    │    └─→ 重置获取验证码按钮状态
      │    │    │    └─→ 用户可重新输入或重新获取验证码
      │    │    │
      │    │    └─→ 网络异常处理
      │    │         ├─→ 隐藏加载状态
      │    │         ├─→ 显示网络错误提示 "网络连接失败，请重试"
      │    │         ├─→ 提供重试按钮
      │    │         └─→ 检查网络状态并引导用户
      │    │
      │    ├─→ 验证码重新发送流程
      │    │    ↓
      │    │   用户点击"重新发送"按钮
      │    │    ├─→ 重发条件检查
      │    │    │    ├─→ 倒计时是否结束（60秒后可重发）
      │    │    │    ├─→ 每日发送次数检查（最多10次）
      │    │    │    ├─→ 手机号格式是否正确
      │    │    │    └─→ 网络连接状态检查
      │    │    ├─→ 重发验证码操作（与首次发送流程相同）
      │    │    │    ├─→ 按钮状态切换 → 发送中
      │    │    │    ├─→ 发送API请求
      │    │    │    ├─→ 处理发送结果
      │    │    │    └─→ 重新开始倒计时
      │    │    └─→ 重发限制处理
      │    │         ├─→ 达到每日上限提示 "今日发送次数已达上限"
      │    │         ├─→ 频率过快提示 "发送频率过快，请稍后再试"
      │    │         └─→ 异常检测拦截 "检测到异常操作，请稍后再试"
      │    │
      │    └─→ 验证码登录后续处理
      │         ├─→ 更新用户登录历史记录
      │         ├─→ 记录验证码登录方式偏好
      │         ├─→ 同步用户数据和设置
      │         ├─→ 初始化用户相关服务
      │         └─→ 跳转到应用主页面
      │
      ├─→ 【忘记密码完整流程】
      │    ↓
      │   【忘记密码主流程】（复杂操作流程 - 5-6个关联事件）
      │    ├─→ 步骤1：输入手机号
      │    │    ↓
      │    │   【进入忘记密码入口页面】
      │    │    ├─→ 页面初始化
      │    │    │    ├─→ 加载页面UI组件
      │    │    │    ├─→ 设置页面标题"忘记密码"
      │    │    │    ├─→ 显示说明文字"重置登录密码"
      │    │    │    └─→ 自动聚焦到手机号输入框
      │    │    ├─→ 用户输入手机号
      │    │    │    ├─→ 输入框获得焦点 → 显示数字键盘
      │    │    │    ├─→ 用户输入手机号码
      │    │    │    ├─→ 实时格式验证 → 11位数字检查
      │    │    │    ├─→ 运营商号段验证 → 有效号码确认
      │    │    │    └─→ 启用/禁用"下一步"按钮
      │    │    ├─→ 手机号验证处理
      │    │    │    ├─→ 格式错误处理
      │    │    │    │    ├─→ 显示红色错误提示
      │    │    │    │    ├─→ 输入框边框变红色
      │    │    │    │    └─→ 禁用下一步按钮
      │    │    │    └─→ 格式正确处理
      │    │    │         ├─→ 隐藏错误提示
      │    │    │         ├─→ 恢复输入框正常样式
      │    │    │         └─→ 启用下一步按钮
      │    │    └─→ 点击"下一步"按钮
      │    │         ├─→ 按钮点击反馈（缩放动画）
      │    │         ├─→ 验证手机号格式
      │    │         ├─→ 检查用户是否存在
      │    │         └─→ 跳转到验证码发送页面
      │    │
      │    ├─→ 步骤2：获取验证码
      │    │    ↓
      │    │   【进入忘记密码-验证码发送页面】
      │    │    ├─→ 页面初始化
      │    │    │    ├─→ 显示脱敏手机号 "131****6323"
      │    │    │    ├─→ 说明文字"验证码将发送至 131****6323"
      │    │    │    ├─→ 自动聚焦到验证码输入框
      │    │    │    └─→ 获取验证码按钮为可点击状态
      │    │    ├─→ 用户点击"获取验证码"按钮
      │    │    │    ├─→ 按钮状态切换为"发送中..."
      │    │    │    ├─→ 显示小转圈加载动画
      │    │    │    ├─→ 发送忘记密码验证码API请求
      │    │    │    │    ├─→ 请求参数：手机号 + 地区代码 + 重置类型
      │    │    │    │    ├─→ 安全检查：用户存在性验证 + 频率限制检查
      │    │    │    │    └─→ 短信发送：选择供应商 + 发送验证码
      │    │    │    ├─→ 处理发送结果
      │    │    │    │    ├─→ 发送成功处理
      │    │    │    │    │    ├─→ 显示成功提示"验证码已发送，请注意查收"
      │    │    │    │    │    ├─→ 保存重置会话ID和过期时间
      │    │    │    │    │    ├─→ 按钮进入倒计时状态"重新发送(60s)"
      │    │    │    │    │    └─→ 开始60秒倒计时递减
      │    │    │    │    ├─→ 发送失败处理
      │    │    │    │    │    ├─→ 显示失败提示（根据错误类型）
      │    │    │    │    │    ├─→ 按钮状态变为"发送失败，重试"
      │    │    │    │    │    └─→ 用户可点击重新尝试发送
      │    │    │    │    └─→ 网络异常处理
      │    │    │    │         ├─→ 显示网络错误提示
      │    │    │    │         └─→ 提供重试机制
      │    │    │    └─→ 倒计时管理（与验证码登录相同逻辑）
      │    │    ├─→ 用户输入验证码
      │    │    │    ├─→ 逐格输入验证码数字
      │    │    │    │    ├─→ 输入单位数字 → 自动跳转到下一格
      │    │    │    │    ├─→ 删除操作 → 自动跳转到上一格
      │    │    │    │    ├─→ 粘贴操作 → 自动分配6位数字到各格
      │    │    │    │    └─→ 格式错误自动过滤（只允许数字）
      │    │    │    ├─→ 实时长度验证 → 6位数字检查
      │    │    │    ├─→ 输入完成检测 → 启用下一步按钮
      │    │    │    └─→ 视觉反馈 → 输入格边框颜色变化
      │    │    └─→ 点击"下一步"按钮
      │    │         ├─→ 验证码完整性检查
      │    │         ├─→ 发送验证码验证API请求
      │    │         └─→ 根据验证结果跳转或显示错误
      │    │
      │    ├─→ 步骤3：验证码验证
      │    │    ↓
      │    │   【验证码验证处理】
      │    │    ├─→ 发送验证码验证API请求
      │    │    │    ├─→ 请求参数：手机号 + 验证码 + 重置会话ID
      │    │    │    ├─→ 服务端验证：验证码匹配 + 会话有效性 + 过期检查
      │    │    │    └─→ 安全检查：错误次数限制 + 异常检测
      │    │    ├─→ 验证成功处理
      │    │    │    ├─→ 获得密码重置Token
      │    │    │    ├─→ 更新会话状态为"验证成功"
      │    │    │    ├─→ 跳转到重置密码页面
      │    │    │    └─→ 清理验证码相关状态
      │    │    ├─→ 验证失败处理
      │    │    │    ├─→ 显示具体错误提示
      │    │    │    │    ├─→ "验证码错误，请重新输入"
      │    │    │    │    ├─→ "验证码已过期，请重新获取"
      │    │    │    │    ├─→ "验证码已失效，请重新获取"
      │    │    │    │    └─→ "验证失败次数过多，请重新获取验证码"
      │    │    │    ├─→ 错误状态UI更新
      │    │    │    │    ├─→ 输入框底部显示红色边框
      │    │    │    │    ├─→ 输入框下方显示红色错误文字
      │    │    │    │    └─→ 自动清空验证码输入框
      │    │    │    ├─→ 错误次数管理
      │    │    │    │    ├─→ 记录当前错误次数
      │    │    │    │    ├─→ 3次错误后强制重新获取验证码
      │    │    │    │    └─→ 重置获取验证码按钮状态
      │    │    │    └─→ 用户可重新输入或重新获取
      │    │    └─→ 网络异常处理
      │    │         ├─→ 显示网络错误提示
      │    │         └─→ 提供重试机制
      │    │
      │    ├─→ 步骤4：设置新密码
      │    │    ↓
      │    │   【进入忘记密码-重置密码页面】
      │    │    ├─→ 页面初始化
      │    │    │    ├─→ 显示页面标题"重置密码"
      │    │    │    ├─→ 说明文字"请设置新的登录密码"
      │    │    │    ├─→ 自动聚焦到新密码输入框
      │    │    │    └─→ 初始化密码强度检测
      │    │    ├─→ 用户输入新密码
      │    │    │    ├─→ 输入框获得焦点 → 显示安全键盘
      │    │    │    ├─→ 用户输入新密码内容
      │    │    │    ├─→ 实时密码强度检测
      │    │    │    │    ├─→ 长度验证：6-20位字符
      │    │    │    │    ├─→ 复杂度检测：字母数字组合
      │    │    │    │    ├─→ 强度指示：弱/中/强显示
      │    │    │    │    └─→ 显示密码强度提示弹窗
      │    │    │    ├─→ 密码显示切换功能
      │    │    │    │    ├─→ 点击眼睛图标切换显示/隐藏
      │    │    │    │    └─→ 图标颜色和状态同步更新
      │    │    │    └─→ 启用/禁用确认密码输入框
      │    │    ├─→ 用户输入确认密码
      │    │    │    ├─→ 输入框获得焦点
      │    │    │    ├─→ 用户输入确认密码内容
      │    │    │    ├─→ 实时一致性检查
      │    │    │    │    ├─→ 与新密码内容比较
      │    │    │    │    ├─→ 一致时：绿色提示"密码一致"
      │    │    │    │    └─→ 不一致时：红色提示"两次密码输入不一致"
      │    │    │    ├─→ 密码显示切换功能（相同逻辑）
      │    │    │    └─→ 启用/禁用完成按钮
      │    │    └─→ 点击"完成"按钮
      │    │         ├─→ 最终密码验证
      │    │         │    ├─→ 新密码格式检查
      │    │         │    ├─→ 确认密码一致性检查
      │    │         │    └─→ 密码强度要求检查
      │    │         ├─→ 发送密码重置API请求
      │    │         └─→ 显示加载状态"密码重置中..."
      │    │
      │    ├─→ 步骤5：密码重置处理
      │    │    ↓
      │    │   【密码重置API处理】
      │    │    ├─→ 发送密码重置请求
      │    │    │    ├─→ 请求参数：新密码 + 确认密码 + 重置Token
      │    │    │    ├─→ 服务端处理：密码验证 + 历史密码检查
      │    │    │    ├─→ 安全处理：密码加密存储 + 会话清理
      │    │    │    └─→ 审计日志：记录重置操作 + 设备信息
      │    │    ├─→ 重置成功处理
      │    │    │    ├─→ 隐藏加载弹窗
      │    │    │    ├─→ 更新用户密码到数据库
      │    │    │    ├─→ 清理所有重置相关会话
      │    │    │    ├─→ 发送密码重置成功通知（可选）
      │    │    │    └─→ 跳转到重置成功页面
      │    │    ├─→ 重置失败处理
      │    │    │    ├─→ 隐藏加载弹窗
      │    │    │    ├─→ 显示具体错误提示
      │    │    │    │    ├─→ "新密码不符合安全要求"
      │    │    │    │    ├─→ "新密码不能与历史密码相同"
      │    │    │    │    ├─→ "重置会话已过期，请重新开始"
      │    │    │    │    └─→ "系统繁忙，请稍后重试"
      │    │    │    ├─→ 恢复页面正常状态
      │    │    │    └─→ 用户可修改密码重新尝试
      │    │    └─→ 网络异常处理
      │    │         ├─→ 显示网络错误提示
      │    │         ├─→ 提供重试按钮
      │    │         └─→ 保持用户输入内容
      │    │
      │    └─→ 步骤6：重置成功反馈
      │         ↓
      │        【进入忘记密码-重置成功页面】
      │         ├─→ 页面初始化
      │         │    ├─→ 显示成功图标动画（0.5s缩放弹出）
      │         │    ├─→ 显示成功标题"密码重置成功！"
      │         │    ├─→ 显示成功说明文字
      │         │    └─→ 初始化自动跳转倒计时（可选）
      │         ├─→ 用户操作选择
      │         │    ├─→ 点击"返回登录"按钮
      │         │    │    ├─→ 按钮点击反馈
      │         │    │    ├─→ 清理所有忘记密码相关数据
      │         │    │    ├─→ 跳转到登录页面（密码模式）
      │         │    │    └─→ 可选：自动填充手机号
      │         │    └─→ 等待自动跳转（如果启用）
      │         │         ├─→ 3秒倒计时显示
      │         │         ├─→ 每秒更新倒计时数字
      │         │         └─→ 倒计时结束自动跳转
      │         ├─→ 数据清理和状态重置
      │         │    ├─→ 清除本地存储的重置会话数据
      │         │    ├─→ 清除验证码相关状态
      │         │    ├─→ 清除密码输入历史
      │         │    └─→ 重置所有表单验证状态
      │         └─→ 跳转到登录页面
      │              ├─→ 进入密码登录模式
      │              ├─→ 可选：预填充重置的手机号
      │              ├─→ 显示提示"密码已重置，请使用新密码登录"
      │              └─→ 用户可使用新密码正常登录
      │
      ├─→ 第三方登录流程（微信/QQ等）
      └─→ 新用户注册流程
 ↓
结束
```

---

## 📄 **页面流程图（页面跳转视角）**

```
【探店APP登录模块 - 页面流程图】

开始点：用户需要登录
    ↓
┌─────────────────────────────────────────────────────────────┐
│                    【登录主页面】                              │
│                 （密码模式 - 默认状态）                         │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │  手机号输入   │  │   密码输入    │  │   登录按钮    │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
│                                                           │
│  辅助功能：                                                  │
│  • 验证码登录切换  • 忘记密码入口  • 地区选择  • 协议链接         │
└─────────────────────────────────────────────────────────────┘
    │                    │                    │
    ├─→ 点击"验证码登录"     ├─→ 点击"忘记密码?"    ├─→ 登录成功
    │                    │                    │
    ↓                    ↓                    ↓
┌─────────────────┐   ┌─────────────────┐   【应用主页面】
│【登录主页面】     │   │【忘记密码入口页】 │   （登录成功跳转）
│（验证码模式）     │   │                │
│                │   │  ┌───────────┐  │
│ ┌─────────────┐ │   │  │手机号输入  │  │
│ │手机号输入    │ │   │  └───────────┘  │
│ └─────────────┘ │   │  ┌───────────┐  │
│ ┌─────────────┐ │   │  │下一步按钮  │  │
│ │验证码输入    │ │   │  └───────────┘  │
│ └─────────────┘ │   └─────────────────┘
│ ┌─────────────┐ │          │
│ │登录按钮      │ │          ↓ 点击"下一步"
│ └─────────────┘ │   ┌─────────────────┐
│                │   │【验证码发送页面】 │
│辅助功能：        │   │                │
│• 密码登录切换    │   │ ┌───────────┐  │
│• 忘记密码入口    │   │ │验证码输入  │  │
└─────────────────┘   │ └───────────┘  │
    │                │ ┌───────────┐  │
    ├─→ 点击"密码登录" │ │获取验证码  │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │下一步按钮  │  │
    │                │ └───────────┘  │
    │                └─────────────────┘
    │                       │
    │                       ↓ 点击"下一步"
    │                ┌─────────────────┐
    │                │【验证码输入页面】 │
    │                │                │
    │                │ ┌───────────┐  │
    │                │ │验证码输入  │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │重新发送    │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │下一步按钮  │  │
    │                │ └───────────┘  │
    │                └─────────────────┘
    │                       │
    │                       ↓ 验证成功
    │                ┌─────────────────┐
    │                │【重置密码页面】  │
    │                │                │
    │                │ ┌───────────┐  │
    │                │ │新密码输入  │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │确认密码    │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │完成按钮    │  │
    │                │ └───────────┘  │
    │                └─────────────────┘
    │                       │
    │                       ↓ 重置成功
    │                ┌─────────────────┐
    │                │【重置成功页面】  │
    │                │                │
    │                │ ┌───────────┐  │
    │                │ │成功图标    │  │
    │                │ └───────────┘  │
    │                │ ┌───────────┐  │
    │                │ │返回登录    │  │
    │                │ └───────────┘  │
    │                └─────────────────┘
    │                       │
    │                       ↓ 点击"返回登录"
    │                       │
    └───────────────────────┘
            │
            ↓ 回到登录主页面（密码模式）
    ┌─────────────────┐
    │【登录主页面】     │
    │（密码模式）       │
    │                │
    │ 可选：预填充手机号 │
    │ 提示：请使用新密码 │
    └─────────────────┘
```

### 📱 **页面跳转详细说明**

#### 🔄 **主要页面流转路径**

**路径1：密码登录流程**
```
登录主页面（密码模式） → 登录成功 → 应用主页面
```

**路径2：验证码登录流程**
```
登录主页面（密码模式） → 点击"验证码登录" → 登录主页面（验证码模式） → 登录成功 → 应用主页面
```

**路径3：忘记密码完整流程**
```
登录主页面 → 点击"忘记密码?" → 忘记密码入口页 → 验证码发送页面 → 验证码输入页面 → 重置密码页面 → 重置成功页面 → 返回登录主页面
```

#### 🔀 **页面切换规则**

**1. 登录模式切换（同页面状态切换）**
- 密码模式 ↔ 验证码模式：页面内容切换，无页面跳转
- 切换时保持手机号输入内容不变
- 重置其他输入框和验证状态

**2. 忘记密码流程（线性页面流转）**
- 单向流转：只能前进到下一步，不可跳步
- 返回操作：每个页面都有返回到上一步的功能
- 退出机制：任意步骤都可以返回到登录主页面

**3. 成功状态跳转**
- 登录成功：自动跳转到应用主页面
- 重置成功：手动点击或自动倒计时跳转到登录页面

#### 📋 **页面状态管理**

**页面间数据传递：**
- 手机号：在忘记密码流程中全程保持
- 验证码状态：在验证码相关页面间同步
- 倒计时状态：跨页面保持倒计时状态
- 错误状态：页面切换时清除错误状态

**页面历史管理：**
- 支持浏览器/应用返回按钮
- 忘记密码流程支持步骤回退
- 登录成功后清除登录页面历史

#### 🎯 **特殊跳转场景**

**错误处理跳转：**
- 验证码错误3次 → 强制返回验证码发送页面
- 网络错误 → 停留当前页面，显示重试选项
- 会话过期 → 返回忘记密码入口页面

**用户主动操作：**
- 点击返回按钮 → 返回上一页面
- 点击协议链接 → 弹出协议详情（模态窗口）
- 点击地区选择 → 弹出地区选择（模态窗口）

### 🗂️ **页面关系层级图**

```
探店APP登录模块页面架构
│
├── 📱 【登录主页面】（核心入口页面）
│   ├── 🔐 密码登录模式（默认状态）
│   └── 📲 验证码登录模式（切换状态）
│
├── 🔑 【忘记密码流程页面群】（独立流程）
│   ├── 📝 忘记密码入口页（步骤1：输入手机号）
│   ├── 📲 验证码发送页面（步骤2：获取验证码）
│   ├── ✅ 验证码输入页面（步骤3：验证验证码）
│   ├── 🔐 重置密码页面（步骤4：设置新密码）
│   └── 🎉 重置成功页面（步骤5：成功反馈）
│
├── 🎯 【弹窗组件群】（辅助功能）
│   ├── 🌍 地区选择弹窗
│   ├── 📄 协议详情弹窗
│   ├── 🚨 错误提示弹窗
│   ├── ⏳ 加载状态弹窗
│   └── 🎉 成功提示弹窗
│
└── 🏠 【应用主页面】（登录成功目标页面）
```

### 🔄 **页面跳转矩阵表**

| 起始页面 | 目标页面 | 触发条件 | 跳转类型 | 数据传递 |
|---------|---------|---------|---------|---------|
| 登录主页面（密码） | 登录主页面（验证码） | 点击"验证码登录" | 状态切换 | 保持手机号 |
| 登录主页面（验证码） | 登录主页面（密码） | 点击"密码登录" | 状态切换 | 保持手机号 |
| 登录主页面 | 忘记密码入口页 | 点击"忘记密码?" | 页面跳转 | 无 |
| 登录主页面 | 应用主页面 | 登录成功 | 自动跳转 | 用户信息 |
| 忘记密码入口页 | 验证码发送页面 | 点击"下一步" | 页面跳转 | 手机号 |
| 验证码发送页面 | 验证码输入页面 | 点击"下一步" | 页面跳转 | 手机号+会话ID |
| 验证码输入页面 | 重置密码页面 | 验证成功 | 页面跳转 | 重置Token |
| 重置密码页面 | 重置成功页面 | 重置成功 | 页面跳转 | 无 |
| 重置成功页面 | 登录主页面 | 点击"返回登录" | 页面跳转 | 可选手机号 |
| 任意页面 | 地区选择弹窗 | 点击地区选择器 | 模态弹出 | 当前地区 |
| 任意页面 | 协议详情弹窗 | 点击协议链接 | 模态弹出 | 协议类型 |

### 📊 **页面状态传递规则**

#### 🔄 **状态保持规则**
- **手机号输入**：在登录模式切换时保持，在忘记密码流程中全程传递
- **倒计时状态**：跨页面保持，页面刷新后恢复
- **验证码会话**：在忘记密码流程中保持，完成后清理
- **错误状态**：页面切换时清除，避免状态污染

#### 🗑️ **状态清理规则**
- **登录成功**：清理所有登录相关的临时状态
- **流程退出**：用户主动退出时清理当前流程状态
- **会话过期**：自动清理过期的会话和状态
- **应用重启**：清理敏感信息，保留用户偏好设置

---

## 📋 **设计要点总结**

### 🎨 **UI设计亮点**
- **渐变紫色主题**：#8A2BE2到#9370DB的品牌色彩体系
- **简洁现代布局**：大留白设计 + 卡片式表单组件
- **精致交互动效**：0.1-0.3s的微动画 + 涟漪反馈效果
- **智能状态管理**：实时验证 + 动态按钮状态

### 🔧 **功能设计特色**
- **三模式登录体系**：密码登录 + 验证码登录 + 忘记密码重置无缝切换
- **智能验证码体验**：60秒倒计时 + 自动聚焦 + 错误重试
- **完整密码重置流程**：6步骤完整流程 + 安全验证 + 成功反馈
- **智能输入体验**：格式实时验证 + 自动填充建议
- **密码显示切换**：一键切换明文/掩码显示
- **密码强度检测**：实时强度指示 + 安全建议 + 历史密码检查
- **地区选择优化**：常用地区 + 搜索 + A-Z索引
- **验证码安全机制**：3次错误限制 + 每日10次发送上限 + 异常检测
- **会话安全管理**：15分钟重置会话 + 自动过期清理 + 状态追踪

### 🛡️ **安全设计考量**
- **密码加密传输**：客户端预加密 + HTTPS安全传输
- **验证码安全机制**：5分钟有效期 + 一次性使用 + 防暴力破解
- **密码重置安全**：15分钟重置会话 + Token验证 + 历史密码检查
- **设备指纹识别**：设备信息收集 + 异常环境检测
- **防暴力破解**：登录次数限制 + 账户锁定机制 + 验证码错误次数限制
- **短信安全防护**：发送频率限制 + 每日上限控制 + 异常检测拦截
- **会话安全管理**：重置会话隔离 + 自动过期清理 + 状态加密存储
- **隐私保护**：敏感信息脱敏 + 内存及时清理 + 验证码不可见存储
- **审计日志记录**：重置操作记录 + 异常行为检测 + 风险评估预警

### 📊 **技术实现标准**
- **响应式设计**：多设备尺寸适配 + 深色模式支持
- **验证码技术栈**：短信API集成 + 多供应商切换 + 成本优化
- **密码重置技术栈**：会话管理 + Token认证 + 加密存储
- **状态管理**：倒计时状态持久化 + 页面刷新保持 + 多端同步 + 重置会话追踪
- **性能优化**：关键资源预加载 + 动画性能优化 + 短信发送异步处理
- **无障碍支持**：屏幕阅读器 + 动态字体 + 高对比度
- **错误处理**：友好错误提示 + 网络异常处理 + 验证码错误分类处理 + 重置流程错误恢复

---

## ✅ **质量评估检查**

- [x] **树状图层级清晰**：4级嵌套结构，组件关系明确
- [x] **流程图操作完整**：包含主流程、异常处理、系统级操作
- [x] **尺寸规格精确**：所有组件都有具体像素值
- [x] **颜色标准统一**：使用HEX色值和品牌色彩体系
- [x] **动画时长明确**：所有动效都标注具体时长
- [x] **符号使用规范**：统一的表情符号标识系统
- [x] **注释说明详细**：每个功能都有详细的功能解释
- [x] **交互逻辑完整**：覆盖用户所有可能的操作路径

---

## 🚀 **验证码登录模块技术实现要点**

### 📲 **短信服务集成设计要点**
- **服务接口**：发送验证码、验证验证码、检查发送限制三个核心接口
- **状态管理**：倒计时秒数、发送状态、验证状态、错误次数、每日发送次数
- **多供应商支持**：阿里云、腾讯云、华为云短信服务切换
- **成本控制**：短信计费监控、异常发送拦截、供应商价格优化
- **模板管理**：验证码模板、多语言支持、品牌定制

### ⏱️ **倒计时管理机制设计要点**
- **倒计时逻辑**：60秒标准倒计时，每秒递减更新UI显示
- **状态持久化**：页面刷新保持倒计时状态，存储到localStorage
- **自动恢复**：应用重启后自动恢复剩余倒计时时间
- **多页面同步**：同一手机号的倒计时在不同页面保持同步
- **异常处理**：网络断开、应用切换后台的倒计时状态管理

### 🔐 **安全验证机制设计要点**
- **发送频率限制**：60秒内不可重复发送，防止频繁请求
- **每日发送限制**：每个手机号每日最多10次发送，防止滥用
- **验证错误限制**：验证码错误3次后强制重新获取
- **设备异常检测**：检测模拟器、Root设备、调试环境
- **IP风险检测**：识别异常IP、代理IP、海外IP访问

### 📱 **UI状态管理设计要点**
- **页面状态**：手机号、验证码、倒计时、按钮状态、错误信息
- **按钮状态机**：初始状态→发送中→倒计时→重发→错误状态
- **状态切换逻辑**：根据用户操作和API响应自动切换状态
- **错误状态处理**：不同类型错误显示对应的提示信息
- **用户体验优化**：状态切换动画、加载提示、错误恢复

---

## 🔐 **忘记密码模块技术实现要点**

### 🔑 **密码重置会话管理设计要点**
- **会话结构**：包含sessionId、手机号、当前步骤、过期时间、验证尝试次数
- **步骤枚举**：手机号输入 → 验证码发送 → 验证码验证 → 密码重置 → 完成
- **服务接口**：初始化重置、发送验证码、验证验证码、重置密码、查询状态、清理会话
- **会话安全**：15分钟过期时间，自动清理机制，加密存储
- **状态追踪**：实时记录用户操作步骤，支持断点续传

### 🛡️ **安全验证机制设计要点**
- **密码强度验证**：长度6-20位，字母数字组合，弱/中/强三级指示
- **历史密码检查**：防止使用最近3个密码，提升账户安全性
- **重置会话验证**：检查过期时间、验证尝试次数限制
- **防暴力破解**：3次验证错误后强制重新获取验证码
- **异常检测**：识别异常操作模式，自动拦截风险行为

### ⏱️ **会话状态管理设计要点**
- **状态持久化**：会话信息存储到localStorage，页面刷新保持状态
- **自动清理**：15分钟后自动清理过期会话，释放存储空间
- **步骤管理**：实时更新当前步骤状态，支持前进后退导航
- **错误处理**：网络异常、会话过期的友好提示和恢复机制
- **多端同步**：支持多设备访问，会话状态云端同步

### 🎨 **UI状态管理设计要点**
- **表单状态**：手机号、验证码、新密码、确认密码的独立状态管理
- **实时验证**：密码强度实时检测，确认密码一致性检查
- **错误管理**：分类错误信息，精确定位问题位置
- **视觉反馈**：输入状态、验证状态、成功状态的不同视觉表现
- **数据清理**：流程完成后及时清理敏感信息

### 🎨 **分格验证码输入组件设计要点**
- **组件结构**：6个独立的48x48px正方形输入框，水平排列
- **视觉样式**：灰色边框#E5E5E5，焦点时紫色边框#8A2BE2，16px间距
- **交互逻辑**：输入数字自动跳转下一格，删除时跳转上一格，支持粘贴6位验证码
- **状态管理**：空状态、输入中、已输入、错误状态的不同视觉反馈
- **数字键盘**：移动端自动调起数字键盘，限制单位数字输入

### 🔒 **密码圆点显示组件设计要点**
- **显示方式**：隐藏状态显示8px黑色圆点，4px间距，动态长度
- **切换功能**：右侧眼睛图标，点击切换显示/隐藏密码内容
- **图标状态**：隐藏时灰色闭眼图标，显示时紫色睁眼图标
- **安全考虑**：密码输入时实时显示圆点，保护用户隐私
- **响应式设计**：适配不同屏幕尺寸，保持视觉一致性

### 📊 **性能优化策略设计要点**
- **防抖处理**：用户输入验证采用300ms防抖，减少频繁验证请求
- **资源预加载**：根据当前步骤预加载下一步页面资源，提升切换速度
- **状态持久化**：倒计时状态和会话信息本地存储，页面刷新不丢失
- **内存管理**：及时清理密码输入历史，防止内存泄漏
- **网络优化**：API请求合并，减少网络调用次数

---

这份架构设计文档完整覆盖了探店APP登录模块的所有功能点（**密码登录 + 验证码登录 + 忘记密码重置**），包含完整的6步骤忘记密码流程，并且**完全匹配页面原型的UI细节**：

### 🎯 **与页面原型100%匹配**
- **✅ 6位分格验证码输入**：48x48px独立输入格 + 自动跳转 + 粘贴支持
- **✅ 8位密码圆点显示**：8px黑色圆点 + 4px间距 + 动态长度
- **✅ 重置成功状态提示条**：黑色背景#333333 + 白色文字 + 圆角设计
- **✅ 完整交互流程**：从手机号输入到密码重置成功的6步骤完整流程
- **✅ 精确UI规格**：像素级尺寸 + HEX颜色 + 动画时长完全对应

### 📦 **完整交付内容**
- **1900+行**详细架构设计文档
- **完整UI组件**设计规格和交互说明
- **完整API接口**定义和安全机制
- **像素级UI规格**和交互动画
- **性能优化策略**和错误处理机制

### 🔍 **树状图详细描述补充**

#### 📱 **系统状态栏统一规格**
- **时间显示区域**：左上角固定位置，显示"9:41"，17sp字体，黑色#000000
- **信号指示区域**：右上角区域，包含移动信号（4格）、WiFi信号、电池电量指示
- **状态栏高度**：iOS标准44px高度，适配刘海屏和非刘海屏设备
- **背景样式**：透明背景，不影响页面内容显示
- **交互限制**：纯展示区域，不支持用户交互操作

#### 🔝 **页面导航栏统一规格**
- **导航栏容器**：固定顶部，高度56px，白色背景#FFFFFF
- **返回按钮区域**：左上角24x24px，黑色箭头图标，40px左边距
- **标题显示区域**：居中对齐，18sp黑色#333333粗体，PingFang SC Medium
- **右侧功能区**：预留40px右边距，可放置功能按钮（如清空、帮助等）
- **底部分隔线**：1px灰色#E5E5E5分隔线，区分导航栏和内容区域

#### 🎯 **主要内容区域布局规格**
- **内容容器**：顶部距离导航栏0px，左右边距40px，底部安全区域适配
- **标题区域**：28sp黑色#333333粗体，顶部间距80px，PingFang SC Medium
- **说明文字区域**：16sp灰色#666666常规，顶部间距16px，PingFang SC Regular
- **表单区域**：顶部间距60px，各输入框间距24px，统一高度56px
- **按钮区域**：顶部间距60px，按钮宽度335px，高度52px，居中对齐

#### 📋 **输入组件统一设计规格**
- **容器样式**：透明背景，底部1px边框#E5E5E5，内边距16px
- **占位符样式**：16sp灰色#999999，PingFang SC Regular
- **输入文字样式**：16sp黑色#333333，PingFang SC Regular
- **焦点状态**：底部边框变为2px紫色#8A2BE2
- **错误状态**：底部边框变为2px红色#FF4444，下方显示红色错误提示
- **成功状态**：底部边框变为2px绿色#00C851，可选绿色勾选图标

#### 💜 **主要操作按钮统一规格**
- **按钮尺寸**：宽度335px，高度52px，圆角26px
- **背景样式**：渐变紫色，从#8A2BE2到#9370DB，45度角渐变
- **文字样式**：18sp白色#FFFFFF，PingFang SC Medium，居中对齐
- **阴影效果**：0 4px 12px rgba(138,43,226,0.3)
- **点击效果**：0.1s缩放动画（scale: 0.98）+ 涟漪扩散效果
- **禁用状态**：灰色背景#CCCCCC，无阴影，不可点击

#### 📲 **辅助操作按钮统一规格**
- **按钮样式**：透明背景，紫色文字#8A2BE2，无边框
- **文字样式**：14sp紫色#8A2BE2，PingFang SC Regular
- **点击效果**：0.2s颜色加深效果，文字颜色变为#7B27D8
- **禁用状态**：灰色文字#999999，不可点击
- **特殊状态**：倒计时时显示动态数字，错误时显示红色文字#FF4444

#### 📋 **弹窗组件统一设计规格**
- **模态遮罩层**：半透明黑色背景rgba(0,0,0,0.5)，覆盖整个屏幕
- **弹窗容器**：白色背景#FFFFFF，圆角12px，阴影0 8px 24px rgba(0,0,0,0.15)
- **弹窗尺寸**：最小宽度280px，最大宽度屏幕宽度-80px，高度自适应内容
- **弹窗位置**：垂直水平居中，距离屏幕边缘至少40px
- **动画效果**：0.3s缩放弹出动画，从scale(0.8)到scale(1.0)

#### 🎉 **成功提示组件设计规格**
- **提示条容器**：顶部通知条，高度48px，绿色背景#00C851
- **文字样式**：16sp白色#FFFFFF，PingFang SC Medium，居中对齐
- **圆角设计**：8px圆角，左右边距40px
- **显示动画**：0.3s从顶部滑入，停留2秒后0.3s渐出消失
- **阴影效果**：0 2px 8px rgba(0,200,81,0.3)

#### 🚨 **错误提示组件设计规格**
- **提示条容器**：顶部通知条，高度48px，红色背景#FF4444
- **文字样式**：16sp白色#FFFFFF，PingFang SC Medium，居中对齐
- **圆角设计**：8px圆角，左右边距40px
- **显示动画**：0.3s从顶部滑入，停留3秒后0.3s渐出消失
- **阴影效果**：0 2px 8px rgba(255,68,68,0.3)

#### ⏳ **加载状态组件设计规格**
- **加载容器**：居中模态弹窗，半透明黑色背景rgba(0,0,0,0.6)
- **加载动画**：白色转圈动画，直径32px，2s旋转周期
- **加载文字**：16sp白色#FFFFFF，PingFang SC Regular，距离动画16px
- **容器样式**：圆角12px，内边距24px垂直 + 32px水平
- **交互限制**：加载期间禁用所有用户交互，不可取消

#### 📱 **底部安全区域适配规格**
- **安全区域高度**：iPhone X系列34px，其他设备0px
- **指示器样式**：黑色圆角矩形，134x5px，居中显示
- **背景颜色**：与页面背景保持一致，通常为白色#FFFFFF
- **适配逻辑**：自动检测设备类型，动态调整底部间距
- **交互区域**：确保按钮等交互元素不被安全区域遮挡

#### 🔧 **特殊交互状态设计规格**
- **倒计时状态**：数字每秒递减，60→59→58...→0，字体颜色#999999
- **网络加载状态**：小转圈图标，直径16px，1.5s旋转周期
- **输入验证状态**：实时验证，正确时绿色边框，错误时红色边框
- **按钮激活状态**：满足条件时从灰色变为紫色渐变，0.3s过渡动画
- **焦点切换状态**：输入框间自动跳转，0.2s过渡动画

#### 🎨 **动画和过渡效果统一规格**
- **页面切换动画**：0.3s滑动切换，从右向左进入
- **按钮点击反馈**：0.1s缩放动画，scale(0.98)
- **输入框焦点动画**：0.2s边框颜色渐变
- **提示信息动画**：0.3s滑入滑出，贝塞尔曲线ease-out
- **加载动画**：连续旋转，linear线性动画

---

## 🔗 后端接口架构树状图（前端交互视角）

```
【探店APP登录模块后端API系统】🌐
│
├── 【用户认证服务接口群】🔐 (核心认证服务 - 主域名/api/auth/)
│   │
│   ├── 《密码登录接口》POST /login/password 📋
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → phone: string (手机号 - 11位数字格式)
│   │   │   │   ├── ↳ 验证规则：正则表达式 /^1[3-9]\d{9}$/
│   │   │   │   ├── ↳ 必填参数：true
│   │   │   │   └── ↳ 加密传输：AES-256-CBC
│   │   │   ├── → password: string (密码 - 加密后传输)
│   │   │   │   ├── ↳ 加密方式：RSA公钥加密 + SHA-256哈希
│   │   │   │   ├── ↳ 长度限制：6-20位字符
│   │   │   │   └── ↳ 安全传输：HTTPS + 证书绑定
│   │   │   ├── → deviceInfo: object (设备指纹信息)
│   │   │   │   ├── ↳ deviceId: string (设备唯一标识)
│   │   │   │   ├── ↳ deviceType: string (设备类型：iOS/Android)
│   │   │   │   ├── ↳ appVersion: string (应用版本号)
│   │   │   │   ├── ↳ systemVersion: string (系统版本)
│   │   │   │   └── ↳ networkType: string (网络类型：WiFi/4G/5G)
│   │   │   └── → captcha: object (验证码信息 - 可选)
│   │   │       ├── ↳ captchaId: string (验证码会话ID)
│   │   │       └── ↳ captchaCode: string (用户输入验证码)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (登录成功标识)
│   │   │   ├── → code: number (状态码：200成功/400参数错误/401认证失败)
│   │   │   ├── → message: string (响应消息提示)
│   │   │   ├── → data: object (成功时返回的用户数据)
│   │   │   │   ├── ↳ accessToken: string (访问令牌 - JWT格式)
│   │   │   │   │   ├── ↳↳ 有效期：2小时
│   │   │   │   │   ├── ↳↳ 刷新策略：滑动窗口刷新
│   │   │   │   │   └── ↳↳ 签名算法：RS256
│   │   │   │   ├── ↳ refreshToken: string (刷新令牌)
│   │   │   │   │   ├── ↳↳ 有效期：30天
│   │   │   │   │   └── ↳↳ 存储方式：HttpOnly Cookie
│   │   │   │   ├── ↳ userInfo: object (用户基本信息)
│   │   │   │   │   ├── ↳↳ userId: string (用户唯一ID)
│   │   │   │   │   ├── ↳↳ phone: string (脱敏手机号)
│   │   │   │   │   ├── ↳↳ nickname: string (用户昵称)
│   │   │   │   │   ├── ↳↳ avatar: string (头像URL)
│   │   │   │   │   └── ↳↳ lastLoginTime: timestamp (上次登录时间)
│   │   │   │   └── ↳ permissions: array (用户权限列表)
│   │   │   │       ├── ↳↳ 基础权限：["user:read", "profile:update"]
│   │   │   │       └── ↳↳ 扩展权限：动态权限分配
│   │   │   └── → errors: array (错误详情 - 失败时返回)
│   │   │       ├── ↳ field: string (错误字段名)
│   │   │       ├── ↳ message: string (错误描述)
│   │   │       └── ↳ code: string (错误代码)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 防暴力破解：5次失败锁定30分钟
│   │       ├── → IP限制：单IP每分钟最多10次请求
│   │       ├── → 设备绑定：可信设备免二次验证
│   │       ├── → 异地登录检测：异常地理位置预警
│   │       └── → 会话管理：单设备登录/多设备并发控制
│   │
│   ├── 《验证码登录接口》POST /login/sms 📱
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → phone: string (手机号 - 11位数字)
│   │   │   │   ├── ↳ 验证规则：与密码登录相同
│   │   │   │   └── ↳ 加密传输：AES-256-CBC
│   │   │   ├── → smsCode: string (短信验证码 - 6位数字)
│   │   │   │   ├── ↳ 格式验证：/^\d{6}$/
│   │   │   │   ├── ↳ 有效期：5分钟内有效
│   │   │   │   └── ↳ 使用次数：一次性消费
│   │   │   ├── → smsToken: string (短信令牌 - 发送验证码时返回)
│   │   │   │   ├── ↳ 令牌验证：防止验证码被盗用
│   │   │   │   └── ↳ 绑定手机号：令牌与手机号强绑定
│   │   │   └── → deviceInfo: object (设备信息 - 同密码登录)
│   │   │
│   │   ├── 🎯 响应数据结构 (与密码登录完全相同)
│   │   │   └── → 返回相同的用户认证信息和令牌
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 验证码防刷：同手机号每日限制10次
│   │       ├── → 时效性验证：严格5分钟过期机制
│   │       ├── → 一次性消费：验证后立即失效
│   │       └── → 短信内容加密：验证码内容不明文存储
│   │
│   ├── 《发送验证码接口》POST /sms/send 📲
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → phone: string (目标手机号)
│   │   │   │   ├── ↳ 格式验证：标准11位手机号
│   │   │   │   └── ↳ 运营商验证：支持三大运营商
│   │   │   ├── → type: string (验证码类型)
│   │   │   │   ├── ↳ "login": 登录验证码
│   │   │   │   ├── ↳ "register": 注册验证码
│   │   │   │   └── ↳ "reset_password": 密码重置验证码
│   │   │   ├── → scene: string (业务场景标识)
│   │   │   │   ├── ↳ "user_login": 用户登录场景
│   │   │   │   └── ↳ "password_reset": 忘记密码场景
│   │   │   └── → captcha: object (人机验证 - 高频场景必需)
│   │   │       ├── ↳ captchaId: string (图形验证码ID)
│   │   │       └── ↳ captchaCode: string (用户输入的验证码)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (发送成功标识)
│   │   │   ├── → code: number (状态码)
│   │   │   ├── → message: string (提示消息)
│   │   │   ├── → data: object (成功时返回)
│   │   │   │   ├── ↳ smsToken: string (短信令牌)
│   │   │   │   │   ├── ↳↳ 用途：验证码验证时必需
│   │   │   │   │   ├── ↳↳ 有效期：10分钟
│   │   │   │   │   └── ↳↳ 绑定信息：手机号+场景+时间戳
│   │   │   │   ├── ↳ expireTime: timestamp (验证码过期时间)
│   │   │   │   ├── ↳ retryAfter: number (再次发送等待秒数)
│   │   │   │   └── ↳ dailyLimit: object (当日限制信息)
│   │   │   │       ├── ↳↳ used: number (已使用次数)
│   │   │   │       └── ↳↳ total: number (每日总限制)
│   │   │   └── → errors: array (失败时错误信息)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 频率限制：同手机号60秒内只能发送1次
│   │       ├── → 每日限制：同手机号每天最多10次
│   │       ├── → IP限制：单IP每小时最多50次请求
│   │       ├── → 内容安全：短信模板预设，防止恶意内容
│   │       └── → 运营商对接：多通道备份，确保到达率
│   │
│   └── 《令牌刷新接口》POST /auth/refresh 🔄
│       ├── 🔗 请求参数结构
│       │   ├── → refreshToken: string (刷新令牌)
│       │   │   ├── ↳ 来源：HttpOnly Cookie或请求头
│       │   │   └── ↳ 验证：JWT签名验证
│       │   └── → deviceInfo: object (设备验证信息)
│       │
│       ├── 🎯 响应数据结构
│       │   ├── → 新的accessToken (2小时有效期)
│       │   ├── → 新的refreshToken (30天有效期)
│       │   └── → 用户基本信息更新
│       │
│       └── 🛡️ 安全机制层
│           ├── → 设备一致性验证：确保同一设备刷新
│           ├── → 令牌轮换：每次刷新生成新的refresh token
│           └── → 异常检测：频繁刷新或异地刷新预警
│
├── 【密码重置服务接口群】🔐 (忘记密码流程 - 主域名/api/password-reset/)
│   │
│   ├── 《重置请求接口》POST /reset/request 📋
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → phone: string (需要重置密码的手机号)
│   │   │   │   ├── ↳ 验证规则：标准手机号格式
│   │   │   │   ├── ↳ 用户存在性检查：必须是已注册用户
│   │   │   │   └── ↳ 加密传输：AES-256-CBC
│   │   │   ├── → scene: string (重置场景标识)
│   │   │   │   └── ↳ "forgot_password": 忘记密码场景
│   │   │   └── → deviceInfo: object (设备安全信息)
│   │   │       ├── ↳ 设备指纹：用于安全验证
│   │   │       └── ↳ 地理位置：异地重置预警
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (请求成功标识)
│   │   │   ├── → code: number (状态码)
│   │   │   ├── → message: string (提示消息)
│   │   │   ├── → data: object (成功时返回)
│   │   │   │   ├── ↳ resetSessionId: string (重置会话ID)
│   │   │   │   │   ├── ↳↳ 用途：整个重置流程的会话标识
│   │   │   │   │   ├── ↳↳ 有效期：30分钟
│   │   │   │   │   └── ↳↳ 安全性：加密存储，防篡改
│   │   │   │   ├── ↳ nextStep: string (下一步操作)
│   │   │   │   │   └── ↳↳ "send_sms": 发送短信验证码
│   │   │   │   └── ↳ phoneHint: string (脱敏手机号显示)
│   │   │   │       └── ↳↳ 格式："131****6323"
│   │   │   └── → errors: array (失败时错误详情)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 用户验证：确认手机号对应已注册用户
│   │       ├── → 频率限制：同手机号每小时最多3次重置请求
│   │       ├── → 异地检测：异常地理位置发送安全提醒
│   │       └── → 会话管理：创建安全的重置会话
│   │
│   ├── 《验证码验证接口》POST /reset/verify-sms 📱
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → resetSessionId: string (重置会话ID)
│   │   │   │   ├── ↳ 会话验证：确保流程连续性
│   │   │   │   └── ↳ 防篡改：签名验证
│   │   │   ├── → smsCode: string (短信验证码)
│   │   │   │   ├── ↳ 格式：6位数字
│   │   │   │   └── ↳ 有效期：5分钟内
│   │   │   ├── → smsToken: string (短信令牌)
│   │   │   │   └── ↳ 防重放：令牌一次性使用
│   │   │   └── → phone: string (手机号确认)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (验证成功标识)
│   │   │   ├── → code: number (状态码)
│   │   │   ├── → message: string (响应消息)
│   │   │   ├── → data: object (验证成功时)
│   │   │   │   ├── ↳ resetToken: string (密码重置令牌)
│   │   │   │   │   ├── ↳↳ 用途：密码重置时的授权令牌
│   │   │   │   │   ├── ↳↳ 有效期：15分钟
│   │   │   │   │   └── ↳↳ 单次使用：重置后立即失效
│   │   │   │   ├── ↳ nextStep: string (下一步操作)
│   │   │   │   │   └── ↳↳ "set_password": 设置新密码
│   │   │   │   └── ↳ sessionId: string (更新的会话ID)
│   │   │   └── → errors: array (验证失败时)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 验证码校验：严格时效性和一次性验证
│   │       ├── → 会话连续性：确保重置流程的完整性
│   │       ├── → 令牌生成：生成安全的重置授权令牌
│   │       └── → 失败计数：多次失败自动锁定会话
│   │
│   ├── 《密码重置接口》POST /reset/set-password 🔒
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → resetToken: string (密码重置令牌)
│   │   │   │   ├── ↳ 令牌验证：确保有重置权限
│   │   │   │   └── ↳ 时效验证：15分钟内有效
│   │   │   ├── → newPassword: string (新密码)
│   │   │   │   ├── ↳ 加密方式：RSA公钥加密
│   │   │   │   ├── ↳ 强度验证：8-20位，包含数字字母
│   │   │   │   └── ↳ 历史检查：不能与近期密码相同
│   │   │   ├── → confirmPassword: string (确认密码)
│   │   │   │   └── ↳ 一致性验证：与新密码完全匹配
│   │   │   └── → deviceInfo: object (设备信息)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (重置成功标识)
│   │   │   ├── → code: number (状态码)
│   │   │   ├── → message: string (提示消息)
│   │   │   ├── → data: object (成功时返回)
│   │   │   │   ├── ↳ resetTime: timestamp (重置完成时间)
│   │   │   │   ├── ↳ nextAction: string (后续操作)
│   │   │   │   │   └── ↳↳ "login": 跳转登录页面
│   │   │   │   └── ↳ securityNotice: string (安全提醒信息)
│   │   │   └── → errors: array (失败时错误信息)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 密码强度验证：符合安全策略要求
│   │       ├── → 历史密码检查：防止使用近期旧密码
│   │       ├── → 令牌消费：重置成功后立即销毁令牌
│   │       ├── → 全设备登出：重置后清除所有设备登录状态
│   │       └── → 安全日志：记录密码重置操作审计
│   │
│   └── 《重置状态查询接口》GET /reset/status/:sessionId 📊
│       ├── 🔗 请求参数结构
│       │   ├── → sessionId: string (路径参数 - 重置会话ID)
│       │   └── → 请求头验证：设备指纹验证
│       │
│       ├── 🎯 响应数据结构
│       │   ├── → success: boolean (查询成功标识)
│       │   ├── → data: object (会话状态信息)
│       │   │   ├── ↳ status: string (当前状态)
│       │   │   │   ├── ↳↳ "pending": 等待验证码
│       │   │   │   ├── ↳↳ "verified": 验证码已验证
│       │   │   │   ├── ↳↳ "completed": 重置完成
│       │   │   │   └── ↳↳ "expired": 会话已过期
│       │   │   ├── ↳ currentStep: string (当前步骤)
│       │   │   ├── ↳ expireTime: timestamp (会话过期时间)
│       │   │   └── ↳ remainingAttempts: number (剩余尝试次数)
│       │   └── → errors: array (查询失败时)
│       │
│       └── 🛡️ 安全机制层
│           ├── → 会话验证：确保查询者有权访问会话信息
│           ├── → 信息脱敏：敏感信息不完全暴露
│           └── → 访问控制：限制查询频率和权限
│
├── 【用户信息服务接口群】👤 (用户数据管理 - 主域名/api/user/)
│   │
│   ├── 《用户信息查询接口》GET /profile 📋
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → Authorization: Bearer {accessToken} (请求头)
│   │   │   │   ├── ↳ 令牌验证：JWT签名和有效期验证
│   │   │   │   └── ↳ 权限检查：用户信息读取权限
│   │   │   └── → fields: string[] (可选 - 指定返回字段)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (查询成功标识)
│   │   │   ├── → data: object (用户信息)
│   │   │   │   ├── ↳ userId: string (用户唯一ID)
│   │   │   │   ├── ↳ phone: string (脱敏手机号)
│   │   │   │   ├── ↳ nickname: string (用户昵称)
│   │   │   │   ├── ↳ avatar: string (头像URL)
│   │   │   │   ├── ↳ email: string (邮箱 - 脱敏显示)
│   │   │   │   ├── ↳ realName: string (实名 - 敏感信息加密)
│   │   │   │   ├── ↳ gender: number (性别：0未知/1男/2女)
│   │   │   │   ├── ↳ birthday: string (生日 - YYYY-MM-DD格式)
│   │   │   │   ├── ↳ location: object (地理位置信息)
│   │   │   │   │   ├── ↳↳ province: string (省份)
│   │   │   │   │   ├── ↳↳ city: string (城市)
│   │   │   │   │   └── ↳↳ district: string (区县)
│   │   │   │   ├── ↳ accountStatus: string (账户状态)
│   │   │   │   │   ├── ↳↳ "active": 正常状态
│   │   │   │   │   ├── ↳↳ "suspended": 暂停状态
│   │   │   │   │   └── ↳↳ "locked": 锁定状态
│   │   │   │   ├── ↳ createTime: timestamp (注册时间)
│   │   │   │   ├── ↳ lastLoginTime: timestamp (最后登录时间)
│   │   │   │   └── ↳ preferences: object (用户偏好设置)
│   │   │   │       ├── ↳↳ language: string (语言偏好)
│   │   │   │       ├── ↳↳ theme: string (主题偏好)
│   │   │   │       └── ↳↳ notifications: object (通知设置)
│   │   │   └── → errors: array (查询失败时)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 权限验证：确保用户只能查询自己的信息
│   │       ├── → 数据脱敏：敏感信息部分隐藏或加密
│   │       ├── → 访问日志：记录用户信息访问记录
│   │       └── → 字段控制：根据权限返回不同详细程度的信息
│   │
│   └── 《用户信息更新接口》PUT /profile 📝
│       ├── 🔗 请求参数结构
│       │   ├── → Authorization: Bearer {accessToken} (请求头)
│       │   ├── → nickname: string (昵称 - 可选更新)
│       │   │   ├── ↳ 长度限制：2-20个字符
│       │   │   ├── ↳ 内容过滤：敏感词汇检查
│       │   │   └── ↳ 唯一性验证：系统内昵称唯一
│       │   ├── → avatar: string (头像URL - 可选更新)
│       │   │   ├── ↳ 格式验证：支持jpg/png/gif格式
│       │   │   ├── ↳ 大小限制：最大5MB
│       │   │   └── ↳ 安全检查：图片内容安全扫描
│       │   ├── → email: string (邮箱 - 可选更新)
│       │   │   ├── ↳ 格式验证：标准邮箱格式
│       │   │   ├── ↳ 验证流程：发送验证邮件确认
│       │   │   └── ↳ 唯一性检查：系统内邮箱唯一
│       │   ├── → gender: number (性别 - 可选更新)
│       │   ├── → birthday: string (生日 - 可选更新)
│       │   ├── → location: object (位置信息 - 可选更新)
│       │   └── → preferences: object (偏好设置 - 可选更新)
│       │
│       ├── 🎯 响应数据结构
│       │   ├── → success: boolean (更新成功标识)
│       │   ├── → code: number (状态码)
│       │   ├── → message: string (更新结果消息)
│       │   ├── → data: object (更新后的用户信息)
│       │   │   └── → 返回更新后的完整用户信息
│       │   └── → errors: array (更新失败时的字段错误)
│       │
│       └── 🛡️ 安全机制层
│           ├── → 权限验证：确保用户只能更新自己的信息
│           ├── → 数据验证：严格的字段格式和内容验证
│           ├── → 敏感操作：关键信息更新需要二次验证
│           ├── → 变更日志：记录用户信息变更历史
│           └── → 频率限制：防止频繁恶意更新
│
├── 【系统安全服务接口群】🛡️ (安全防护机制 - 主域名/api/security/)
│   │
│   ├── 《设备管理接口》GET /devices 📱
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → Authorization: Bearer {accessToken} (请求头)
│   │   │   ├── → page: number (分页页码 - 默认1)
│   │   │   └── → limit: number (每页数量 - 默认10)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (查询成功标识)
│   │   │   ├── → data: object (设备列表信息)
│   │   │   │   ├── ↳ devices: array (设备列表)
│   │   │   │   │   └── ↳ 每个设备包含：
│   │   │   │   │       ├── ↳↳ deviceId: string (设备唯一ID)
│   │   │   │   │       ├── ↳↳ deviceName: string (设备名称)
│   │   │   │   │       ├── ↳↳ deviceType: string (设备类型)
│   │   │   │   │       ├── ↳↳ systemVersion: string (系统版本)
│   │   │   │   │       ├── ↳↳ lastLoginTime: timestamp (最后登录)
│   │   │   │   │       ├── ↳↳ lastLoginIP: string (最后登录IP)
│   │   │   │   │       ├── ↳↳ location: string (地理位置)
│   │   │   │   │       ├── ↳↳ isCurrentDevice: boolean (是否当前设备)
│   │   │   │   │       └── ↳↳ status: string (设备状态：active/inactive)
│   │   │   │   ├── ↳ total: number (设备总数)
│   │   │   │   ├── ↳ currentPage: number (当前页码)
│   │   │   │   └── ↳ totalPages: number (总页数)
│   │   │   └── → errors: array (查询失败时)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 设备识别：基于多维度设备指纹识别
│   │       ├── → 地理位置：IP地址解析地理位置信息
│   │       ├── → 异常检测：识别异常登录设备和位置
│   │       └── → 隐私保护：敏感设备信息加密存储
│   │
│   ├── 《设备注销接口》DELETE /devices/:deviceId 🚫
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → deviceId: string (路径参数 - 设备ID)
│   │   │   ├── → Authorization: Bearer {accessToken} (请求头)
│   │   │   └── → confirmPassword: string (确认密码 - 敏感操作)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (注销成功标识)
│   │   │   ├── → message: string (操作结果消息)
│   │   │   └── → data: object (注销信息)
│   │   │       ├── ↳ logoutTime: timestamp (注销时间)
│   │   │       └── ↳ affectedSessions: number (影响的会话数)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 身份确认：需要密码确认敏感操作
│   │       ├── → 会话清理：清除目标设备所有登录会话
│   │       ├── → 操作日志：记录设备注销操作审计
│   │       └── → 通知机制：向用户发送设备注销通知
│   │
│   ├── 《安全日志接口》GET /logs 📊
│   │   ├── 🔗 请求参数结构
│   │   │   ├── → Authorization: Bearer {accessToken} (请求头)
│   │   │   ├── → startDate: string (开始日期 - YYYY-MM-DD)
│   │   │   ├── → endDate: string (结束日期 - YYYY-MM-DD)
│   │   │   ├── → logType: string (日志类型 - 可选筛选)
│   │   │   │   ├── ↳ "login": 登录日志
│   │   │   │   ├── ↳ "password_change": 密码变更
│   │   │   │   ├── ↳ "profile_update": 信息更新
│   │   │   │   └── ↳ "security_alert": 安全警报
│   │   │   ├── → page: number (分页页码)
│   │   │   └── → limit: number (每页数量)
│   │   │
│   │   ├── 🎯 响应数据结构
│   │   │   ├── → success: boolean (查询成功标识)
│   │   │   ├── → data: object (日志数据)
│   │   │   │   ├── ↳ logs: array (日志列表)
│   │   │   │   │   └── ↳ 每条日志包含：
│   │   │   │   │       ├── ↳↳ logId: string (日志唯一ID)
│   │   │   │   │       ├── ↳↳ timestamp: timestamp (操作时间)
│   │   │   │   │       ├── ↳↳ action: string (操作类型)
│   │   │   │   │       ├── ↳↳ description: string (操作描述)
│   │   │   │   │       ├── ↳↳ deviceInfo: object (设备信息)
│   │   │   │   │       ├── ↳↳ ipAddress: string (IP地址)
│   │   │   │   │       ├── ↳↳ location: string (地理位置)
│   │   │   │   │       ├── ↳↳ result: string (操作结果：success/failed)
│   │   │   │   │       └── ↳↳ riskLevel: string (风险等级：low/medium/high)
│   │   │   │   ├── ↳ total: number (日志总数)
│   │   │   │   └── ↳ summary: object (统计摘要)
│   │   │   │       ├── ↳↳ totalLogins: number (登录总次数)
│   │   │   │       ├── ↳↳ failedLogins: number (失败登录次数)
│   │   │   │       └── ↳↳ securityAlerts: number (安全警报次数)
│   │   │   └── → errors: array (查询失败时)
│   │   │
│   │   └── 🛡️ 安全机制层
│   │       ├── → 访问控制：用户只能查看自己的安全日志
│   │       ├── → 数据脱敏：敏感信息适度脱敏显示
│   │       ├── → 时间限制：最多查询近90天的日志
│   │       └── → 审计完整性：确保日志数据完整性和防篡改
│   │
│   └── 《安全设置接口》PUT /settings 🔧
│       ├── 🔗 请求参数结构
│       │   ├── → Authorization: Bearer {accessToken} (请求头)
│       │   ├── → twoFactorAuth: boolean (双因子认证开关)
│       │   ├── → loginNotification: boolean (登录通知开关)
│       │   ├── → deviceTrust: object (设备信任设置)
│       │   │   ├── ↳ autoTrust: boolean (自动信任新设备)
│       │   │   └── ↳ trustDuration: number (信任设备有效期天数)
│       │   ├── → passwordPolicy: object (密码策略设置)
│       │   │   ├── ↳ changeInterval: number (密码变更周期天数)
│       │   │   └── ↳ complexityLevel: string (复杂度要求：low/medium/high)
│       │   └── → sessionSettings: object (会话设置)
│       │       ├── ↳ maxConcurrentSessions: number (最大并发会话数)
│       │       └── ↳ sessionTimeout: number (会话超时时间分钟数)
│       │
│       ├── 🎯 响应数据结构
│       │   ├── → success: boolean (设置成功标识)
│       │   ├── → message: string (设置结果消息)
│       │   ├── → data: object (更新后的安全设置)
│       │   │   └── → 返回完整的安全设置配置
│       │   └── → warnings: array (设置警告信息)
│       │       └── → 如：降低安全级别的风险提醒
│       │
│       └── 🛡️ 安全机制层
│           ├── → 权限验证：确保用户有权修改安全设置
│           ├── → 安全级别检查：防止设置过低的安全要求
│           ├── → 变更通知：重要安全设置变更发送通知
│           ├── → 操作审计：记录安全设置变更日志
│           └── → 即时生效：部分设置立即应用到用户会话
│
└── 【系统监控服务接口群】📊 (系统状态监控 - 主域名/api/monitor/)
    │
    ├── 《服务健康检查接口》GET /health 💚
    │   ├── 🔗 请求参数结构
    │   │   └── → 无需认证，公开接口
    │   │
    │   ├── 🎯 响应数据结构
    │   │   ├── → status: string (服务状态：healthy/unhealthy/degraded)
    │   │   ├── → timestamp: timestamp (检查时间)
    │   │   ├── → version: string (API版本号)
    │   │   ├── → services: object (各服务模块状态)
    │   │   │   ├── ↳ database: object (数据库状态)
    │   │   │   │   ├── ↳↳ status: string (连接状态)
    │   │   │   │   ├── ↳↳ responseTime: number (响应时间ms)
    │   │   │   │   └── ↳↳ connections: number (当前连接数)
    │   │   │   ├── ↳ redis: object (缓存服务状态)
    │   │   │   │   ├── ↳↳ status: string (连接状态)
    │   │   │   │   └── ↳↳ memory: object (内存使用情况)
    │   │   │   ├── ↳ sms: object (短信服务状态)
    │   │   │   │   ├── ↳↳ status: string (服务状态)
    │   │   │   │   ├── ↳↳ provider: string (服务商名称)
    │   │   │   │   └── ↳↳ dailyQuota: object (每日配额信息)
    │   │   │   └── ↳ auth: object (认证服务状态)
    │   │   │       ├── ↳↳ status: string (服务状态)
    │   │   │       └── ↳↳ tokenValidation: boolean (令牌验证可用性)
    │   │   └── → uptime: number (服务运行时间秒数)
    │   │
    │   └── 🛡️ 监控机制层
    │       ├── → 实时检查：每30秒自动健康检查
    │       ├── → 多维度监控：数据库、缓存、外部服务全覆盖
    │       ├── → 告警机制：异常状态自动发送告警通知
    │       └── → 负载均衡：健康检查结果用于负载均衡决策
    │
    ├── 《API使用统计接口》GET /stats 📈
    │   ├── 🔗 请求参数结构
    │   │   ├── → Authorization: Bearer {accessToken} (管理员权限)
    │   │   ├── → timeRange: string (时间范围：hour/day/week/month)
    │   │   ├── → endpoint: string (特定接口路径 - 可选筛选)
    │   │   └── → groupBy: string (分组维度：endpoint/user/ip)
    │   │
    │   ├── 🎯 响应数据结构
    │   │   ├── → success: boolean (查询成功标识)
    │   │   ├── → data: object (统计数据)
    │   │   │   ├── ↳ summary: object (总体统计)
    │   │   │   │   ├── ↳↳ totalRequests: number (总请求数)
    │   │   │   │   ├── ↳↳ successRate: number (成功率百分比)
    │   │   │   │   ├── ↳↳ averageResponseTime: number (平均响应时间ms)
    │   │   │   │   └── ↳↳ errorRate: number (错误率百分比)
    │   │   │   ├── ↳ endpoints: array (接口统计详情)
    │   │   │   │   └── ↳ 每个接口包含：
    │   │   │   │       ├── ↳↳ path: string (接口路径)
    │   │   │   │       ├── ↳↳ method: string (HTTP方法)
    │   │   │   │       ├── ↳↳ requestCount: number (请求次数)
    │   │   │   │       ├── ↳↳ avgResponseTime: number (平均响应时间)
    │   │   │   │       ├── ↳↳ errorCount: number (错误次数)
    │   │   │   │       └── ↳↳ statusCodes: object (状态码分布)
    │   │   │   ├── ↳ timeSeriesData: array (时间序列数据)
    │   │   │   │   └── ↳ 按时间点统计的请求量和响应时间
    │   │   │   └── ↳ topErrors: array (高频错误列表)
    │   │   │       └── ↳ 错误类型、频次、影响用户数
    │   │   └── → errors: array (查询失败时)
    │   │
    │   └── 🛡️ 监控机制层
    │       ├── → 权限控制：仅管理员可查看系统统计
    │       ├── → 数据聚合：实时聚合计算统计指标
    │       ├── → 性能分析：识别性能瓶颈和异常接口
    │       └── → 趋势预警：基于历史数据预测系统负载
    │
    └── 《错误报告接口》POST /errors 🚨
        ├── 🔗 请求参数结构
        │   ├── → Authorization: Bearer {accessToken} (可选)
        │   ├── → errorType: string (错误类型分类)
        │   │   ├── ↳ "client_error": 客户端错误
        │   │   ├── ↳ "server_error": 服务器错误
        │   │   ├── ↳ "network_error": 网络错误
        │   │   └── ↳ "business_error": 业务逻辑错误
        │   ├── → errorMessage: string (错误信息描述)
        │   ├── → stackTrace: string (错误堆栈信息 - 可选)
        │   ├── → userAgent: string (用户代理信息)
        │   ├── → deviceInfo: object (设备环境信息)
        │   ├── → timestamp: timestamp (错误发生时间)
        │   ├── → userId: string (用户ID - 如果已登录)
        │   ├── → sessionId: string (会话ID - 如果存在)
        │   ├── → requestId: string (请求追踪ID - 可选)
        │   └── → additionalData: object (附加错误上下文)
        │
        ├── 🎯 响应数据结构
        │   ├── → success: boolean (提交成功标识)
        │   ├── → code: number (状态码)
        │   ├── → message: string (提交结果消息)
        │   ├── → data: object (成功时返回)
        │   │   ├── ↳ reportId: string (错误报告唯一ID)
        │   │   ├── ↳ trackingNumber: string (跟踪编号)
        │   │   └── ↳ estimatedResolution: string (预计解决时间)
        │   └── → errors: array (提交失败时)
        │
        └── 🛡️ 监控机制层
            ├── → 自动分类：基于错误特征自动分类和优先级排序
            ├── → 实时告警：关键错误实时通知开发团队
            ├── → 趋势分析：错误频率和模式分析
            ├── → 用户影响评估：评估错误对用户体验的影响
            └── → 修复跟踪：错误修复进度跟踪和用户反馈
```

### 🔧 **后端接口技术实现规范**

#### 📡 **API通用规范**
- **协议标准**：HTTPS 1.1/2.0，强制SSL/TLS加密传输
- **数据格式**：统一JSON格式，UTF-8编码
- **请求方法**：RESTful风格，GET/POST/PUT/DELETE语义化
- **状态码规范**：HTTP标准状态码 + 业务自定义错误码
- **版本管理**：URL路径版本控制 `/api/v1/`，向下兼容
- **请求限流**：基于用户/IP的多级限流策略
- **响应缓存**：GET请求适当缓存，POST请求禁用缓存

#### 🔐 **安全认证规范**
- **令牌机制**：JWT访问令牌 + HttpOnly刷新令牌双令牌架构
- **加密算法**：RSA-2048公钥加密 + AES-256-CBC对称加密
- **签名验证**：HMAC-SHA256请求签名，防篡改验证
- **CORS策略**：严格跨域策略，白名单域名控制
- **XSS防护**：输入输出过滤，CSP内容安全策略
- **CSRF防护**：双重提交Cookie + SameSite属性
- **SQL注入防护**：参数化查询，输入验证过滤

#### 📊 **数据处理规范**
- **输入验证**：严格参数验证，类型检查，长度限制
- **输出过滤**：敏感数据脱敏，XSS过滤，JSON转义
- **数据库操作**：事务一致性，连接池管理，慢查询监控
- **缓存策略**：Redis分布式缓存，多级缓存架构
- **日志记录**：结构化日志，敏感信息脱敏，分级存储
- **错误处理**：统一异常处理，错误码标准化，用户友好提示

#### 🚀 **性能优化规范**
- **响应时间**：API响应时间 < 500ms，数据库查询 < 100ms
- **并发处理**：异步非阻塞架构，连接池复用
- **负载均衡**：多实例部署，健康检查，故障转移
- **监控告警**：实时性能监控，异常自动告警
- **资源优化**：内存使用监控，CPU负载控制
- **扩展性**：水平扩展支持，微服务架构准备

---

## 🔗 模块间页面关系详细梳理

### 🏗️ **页面架构层级关系**

```
【探店APP登录模块 - 完整页面关系图】
│
├── 🌟 【核心页面层】（主要功能页面）
│   ├── 📱 登录主页面 - 密码模式 ★★★
│   │   ├── → 状态切换：验证码模式（页面内切换）
│   │   ├── → 成功跳转：应用主页面
│   │   ├── → 功能跳转：忘记密码入口页
│   │   └── → 弹窗触发：地区选择、协议详情
│   │
│   ├── 📱 登录主页面 - 验证码模式 ★★★
│   │   ├── → 状态切换：密码模式（页面内切换）
│   │   ├── → 成功跳转：应用主页面
│   │   ├── → 功能跳转：忘记密码入口页
│   │   └── → 弹窗触发：验证码发送状态、地区选择
│   │
│   └── 🏠 应用主页面 ★★★
│       ├── → 接收参数：用户登录信息、令牌
│       ├── → 状态初始化：用户会话、权限设置
│       └── → 历史清理：清除登录页面历史栈
│
├── 🔄 【流程页面层】（忘记密码流程）
│   ├── 📋 忘记密码入口页 ★★
│   │   ├── → 数据传递：手机号 → 验证码发送页
│   │   ├── → 返回路径：登录主页面
│   │   └── → 验证逻辑：手机号存在性检查
│   │
│   ├── 📲 验证码发送页面 ★★
│   │   ├── → 数据接收：手机号（来源：入口页）
│   │   ├── → 数据传递：手机号 + 短信令牌 → 验证码输入页
│   │   ├── → 返回路径：忘记密码入口页
│   │   ├── → 状态管理：倒计时状态、发送状态
│   │   └── → 弹窗触发：发送成功/失败提示
│   │
│   ├── 🔢 验证码输入页面 ★★
│   │   ├── → 数据接收：手机号 + 短信令牌（来源：发送页）
│   │   ├── → 数据传递：手机号 + 重置令牌 → 重置密码页
│   │   ├── → 返回路径：验证码发送页面
│   │   ├── → 状态管理：验证码输入状态、剩余时间
│   │   ├── → 重发机制：返回验证码发送页面重新发送
│   │   └── → 弹窗触发：验证失败提示、重发确认
│   │
│   ├── 🔒 重置密码页面 ★★
│   │   ├── → 数据接收：手机号 + 重置令牌（来源：验证码页）
│   │   ├── → 数据传递：重置结果 → 重置成功页
│   │   ├── → 返回路径：验证码输入页面
│   │   ├── → 状态管理：密码强度、确认匹配状态
│   │   └── → 弹窗触发：密码强度提示、重置加载状态
│   │
│   └── ✅ 重置成功页面 ★★
│       ├── → 数据接收：重置结果（来源：重置密码页）
│       ├── → 跳转路径：登录主页面（手动/自动）
│       ├── → 数据清理：清除重置流程所有临时数据
│       └── → 状态提示：成功反馈、自动跳转倒计时
│
├── 🎭 【弹窗组件层】（模态交互）
│   ├── 🌍 地区选择弹窗
│   │   ├── → 触发页面：登录主页面（两种模式）
│   │   ├── → 数据返回：选中的地区代码
│   │   ├── → 关闭方式：选择确认、点击遮罩、返回按钮
│   │   └── → 状态保持：当前选中地区高亮显示
│   │
│   ├── 📋 用户协议弹窗
│   │   ├── → 触发页面：登录主页面（两种模式）
│   │   ├── → 内容展示：用户协议、隐私政策
│   │   ├── → 关闭方式：阅读完成、点击遮罩
│   │   └── → 状态同步：协议同意状态更新
│   │
│   ├── 📤 验证码发送状态弹窗
│   │   ├── → 触发页面：验证码模式、验证码发送页
│   │   ├── → 状态类型：发送中、发送成功、发送失败
│   │   ├── → 自动关闭：成功/失败后3秒自动关闭
│   │   └── → 操作反馈：失败时提供重试选项
│   │
│   ├── ⚠️ 验证码验证失败弹窗
│   │   ├── → 触发页面：验证码输入页面
│   │   ├── → 失败类型：验证码错误、验证码过期、网络错误
│   │   ├── → 操作选项：重新输入、重新发送、返回上级
│   │   └── → 计数管理：错误次数统计、锁定机制
│   │
│   ├── 🔒 密码强度提示弹窗
│   │   ├── → 触发页面：重置密码页面
│   │   ├── → 实时反馈：密码强度等级、安全建议
│   │   ├── → 显示条件：密码输入时实时显示
│   │   └── → 关闭条件：密码符合要求后自动消失
│   │
│   ├── ⚡ 加载状态弹窗群
│   │   ├── → 登录加载弹窗（登录请求处理中）
│   │   ├── → 验证码发送加载弹窗（发送请求处理中）
│   │   ├── → 验证码验证加载弹窗（验证请求处理中）
│   │   ├── → 密码重置加载弹窗（重置请求处理中）
│   │   └── → 统一特征：半透明遮罩、转圈动画、不可关闭
│   │
│   └── 🚪 退出确认弹窗
│       ├── → 触发页面：忘记密码流程中的任意页面
│       ├── → 触发条件：用户点击返回登录、关闭应用
│       ├── → 选项提供：确认退出、继续流程
│       └── → 数据处理：退出时清理流程数据
│
└── 🔧 【系统交互层】（系统级页面）
    ├── 📶 网络异常页面
    │   ├── → 触发条件：网络连接失败、请求超时
    │   ├── → 显示内容：网络状态提示、重试按钮
    │   ├── → 返回机制：网络恢复后自动返回原页面
    │   └── → 操作选项：重试请求、检查网络设置
    │
    ├── 🔒 账户锁定页面
    │   ├── → 触发条件：登录失败次数过多、安全风险
    │   ├── → 显示内容：锁定原因、解锁方式、联系客服
    │   ├── → 解锁方式：等待时间、身份验证、客服解锁
    │   └── → 返回路径：解锁后返回登录主页面
    │
    ├── 🔄 版本更新页面
    │   ├── → 触发条件：检测到新版本、强制更新
    │   ├── → 显示内容：版本信息、更新内容、下载进度
    │   ├── → 更新类型：可选更新、强制更新
    │   └── → 操作选项：立即更新、稍后提醒、跳过版本
    │
    └── 🛠️ 系统维护页面
        ├── → 触发条件：服务器维护、系统升级
        ├── → 显示内容：维护通知、预计恢复时间
        ├── → 状态检查：定时检查服务恢复状态
        └── → 自动恢复：服务恢复后自动返回登录页
```

### 📊 **页面数据流向关系**

#### 🔄 **数据传递链路**

**1. 登录成功数据流**
```
登录页面 → API认证 → 用户数据获取 → 应用主页面
│                                          │
├── 传递数据：手机号、密码/验证码              ├── 接收数据：用户信息、访问令牌
├── 设备信息：设备ID、地理位置                ├── 权限数据：用户权限、功能开关
└── 会话数据：登录时间、登录方式              └── 状态数据：登录状态、会话ID
```

**2. 忘记密码数据流**
```
入口页 → 发送页 → 输入页 → 重置页 → 成功页 → 登录页
│        │        │        │        │        │
├─手机号─┤        │        │        │        ├─提示信息
         ├─手机号─┤        │        │        │  
         ├─短信令牌        │        │        │
                  ├─手机号─┤        │        │
                  ├─验证码─┤        │        │
                  ├─重置令牌        │        │
                           ├─新密码─┤        │
                           ├─确认密码        │
                                    ├─重置结果
```

**3. 页面状态同步**
```
全局状态管理
├── 用户认证状态：登录态、令牌状态、权限状态
├── 设备信息状态：设备ID、网络状态、地理位置
├── 流程进度状态：当前步骤、完成状态、错误状态
├── 倒计时状态：验证码倒计时、自动跳转倒计时
└── 缓存数据状态：手机号缓存、地区选择缓存
```

#### 🔐 **安全状态管理**

**1. 会话安全**
- 页面切换时的令牌验证
- 敏感操作的二次确认
- 会话超时的自动处理
- 异地登录的安全检测

**2. 数据安全**
- 敏感数据的内存清理
- 页面关闭时的数据销毁
- 网络传输的加密处理
- 本地存储的安全策略

### 🎯 **交互细节完善**

#### 📱 **页面切换动画**

**1. 页面间跳转动画**
```
登录主页面 ↔ 忘记密码流程页面
├── 进入动画：从右向左滑入（0.3s ease-out）
├── 退出动画：从左向右滑出（0.3s ease-in）
├── 层级关系：新页面覆盖在当前页面之上
└── 手势支持：右滑返回上一页（iOS风格）
```

**2. 状态切换动画**
```
密码模式 ↔ 验证码模式（同页面内）
├── 内容切换：淡入淡出效果（0.2s）
├── 输入框切换：高度变化动画（0.3s）
├── 按钮状态：颜色渐变动画（0.2s）
└── 保持元素：手机号输入框位置不变
```

#### 🔄 **状态反馈机制**

**1. 实时验证反馈**
- 手机号输入：实时格式验证、运营商识别
- 密码输入：实时强度检测、历史密码检查
- 验证码输入：实时格式验证、自动提交
- 确认密码：实时匹配验证、一致性检查

**2. 网络状态反馈**
- 请求发送：按钮状态变更、加载动画显示
- 网络异常：自动重试机制、错误提示显示
- 响应成功：成功动画、状态更新
- 响应失败：错误信息、重试选项

#### 🎨 **用户体验优化**

**1. 智能交互**
- 自动聚焦：页面加载后自动聚焦到第一个输入框
- 智能跳转：验证码输入完成后自动跳转到下一个输入框
- 记忆功能：记住用户选择的地区、上次输入的手机号
- 预加载：提前加载下一步页面资源，提升切换速度

**2. 无障碍支持**
- 屏幕阅读器：所有元素都有语义化标签和描述
- 键盘导航：支持Tab键在输入框间切换
- 高对比度：支持系统高对比度模式
- 字体缩放：支持系统字体大小设置

**3. 多设备适配**
- 响应式设计：支持不同屏幕尺寸和分辨率
- 横竖屏切换：布局自适应屏幕方向变化
- 刘海屏适配：安全区域适配，避免内容被遮挡
- 折叠屏支持：支持折叠屏设备的展开/折叠状态

### ⚠️ **异常场景处理**

#### 🚨 **错误处理策略**

**1. 网络异常处理**
```
网络连接失败
├── 检测机制：请求超时检测（10秒）
├── 重试策略：指数退避算法，最多重试3次
├── 用户提示：网络异常页面，提供重试按钮
├── 离线模式：缓存关键数据，支持离线查看
└── 恢复机制：网络恢复后自动重试上次请求
```

**2. 业务异常处理**
```
登录失败处理
├── 密码错误：显示错误提示，剩余尝试次数
├── 账户锁定：跳转账户锁定页面，显示解锁方式
├── 验证码错误：显示错误提示，支持重新发送
├── 会话过期：自动清理状态，返回登录页面
└── 服务维护：跳转维护页面，显示维护信息
```

#### 🔧 **系统兼容性**

**1. 浏览器兼容**
- 现代浏览器：Chrome 80+, Safari 13+, Firefox 75+
- 移动浏览器：iOS Safari 13+, Android Chrome 80+
- 功能降级：不支持的功能提供替代方案
- Polyfill：为旧版本浏览器提供功能补丁

**2. 系统版本兼容**
- iOS：支持iOS 12.0及以上版本
- Android：支持Android 7.0（API Level 24）及以上
- 微信小程序：支持基础库2.10.0及以上
- 鸿蒙系统：支持HarmonyOS 2.0及以上

可以直接交付给开发团队进行技术实现和UI设计参考！
